import{_ as B,L as v,B as _,V as C,C as N,z as L,c as l,a as t,e as V,w as f,r as D,t as r,b as i,f as u,W as k,N as b,o}from"./app-BLvk--SP.js";const T={class:"cms-page"},E={class:"container py-5"},H={key:0,class:"text-center py-5"},I={key:1,class:"text-center py-5"},M={class:"error-content"},S={key:2,class:"cms-content"},F={class:"page-header text-center mb-5"},z={class:"page-title"},A={class:"page-meta text-muted"},R={key:0,class:"me-3"},U={class:"me-3"},W={key:1,class:"me-3"},$={class:"page-body"},j=["innerHTML"],q={class:"page-navigation mt-5 pt-4 border-top"},G={class:"row"},J={class:"col-md-6 mb-3 mb-md-0"},K={class:"col-md-6 text-md-end"},O={__name:"CmsPage",setup(Q){const d=C(),s=v(null),c=v(!0),n=v([]),y=async()=>{var a;try{c.value=!0,console.log("Fetching page for slug:",d.params.slug);const e=await b.get(`/tenant/cms_page/${d.params.slug}`);s.value=e.data.data,console.log("Page data loaded:",(a=s.value)==null?void 0:a.page_title)}catch(e){console.error("Error fetching page:",e),s.value=null}finally{c.value=!1}},w=async()=>{try{const a=await b.get("/tenant/cms_menu",{params:{status:"active",per_page:1e3}});n.value=a.data.data.data||[]}catch(a){console.error("Error fetching all pages:",a),n.value=[]}},P=a=>new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),x=_(()=>n.value.findIndex(a=>a.keyword===d.params.slug)),m=_(()=>{const a=x.value;return a>0?n.value[a-1]:null}),g=_(()=>{const a=x.value;return a>=0&&a<n.value.length-1?n.value[a+1]:null});return N(async()=>{await Promise.all([y(),w()])}),L(()=>d.fullPath,async(a,e)=>{a!==e&&(s.value=null,c.value=!0,await y())}),(a,e)=>{var h;const p=D("router-link");return o(),l("div",T,[t("div",E,[c.value?(o(),l("div",H,e[0]||(e[0]=[t("div",{class:"spinner-border text-danger",role:"status"},[t("span",{class:"visually-hidden"},"Loading...")],-1)]))):s.value?(o(),l("div",S,[t("div",F,[t("h1",z,r(s.value.page_title),1),t("div",A,[(h=s.value.menu)!=null&&h.page_title?(o(),l("span",R,[e[5]||(e[5]=t("i",{class:"fas fa-folder me-1"},null,-1)),u(r(s.value.menu.page_title),1)])):i("",!0),t("span",U,[e[6]||(e[6]=t("i",{class:"fas fa-calendar me-1"},null,-1)),u(r(P(s.value.created_at)),1)]),s.value.keyword?(o(),l("span",W,[e[7]||(e[7]=t("i",{class:"fas fa-tag me-1"},null,-1)),u(r(s.value.keyword),1)])):i("",!0)])]),t("div",$,[t("div",{class:"content-wrapper",innerHTML:s.value.content},null,8,j)]),t("div",q,[t("div",G,[t("div",J,[m.value?(o(),k(p,{key:0,to:{name:"cms-page",params:{slug:m.value.keyword}},class:"btn btn-outline-secondary"},{default:f(()=>[e[8]||(e[8]=t("i",{class:"fas fa-arrow-left me-2"},null,-1)),u(r(m.value.page_title),1)]),_:1},8,["to"])):i("",!0)]),t("div",K,[g.value?(o(),k(p,{key:0,to:{name:"cms-page",params:{slug:g.value.keyword}},class:"btn btn-outline-secondary"},{default:f(()=>[u(r(g.value.page_title),1),e[9]||(e[9]=t("i",{class:"fas fa-arrow-right ms-2"},null,-1))]),_:1},8,["to"])):i("",!0)])])])])):(o(),l("div",I,[t("div",M,[e[2]||(e[2]=t("i",{class:"fas fa-file-slash fa-4x text-muted mb-4"},null,-1)),e[3]||(e[3]=t("h2",{class:"text-muted mb-3"},"Page Not Found",-1)),e[4]||(e[4]=t("p",{class:"text-muted mb-4"},"The page you're looking for doesn't exist or has been removed.",-1)),V(p,{to:"/",class:"btn btn-danger"},{default:f(()=>e[1]||(e[1]=[t("i",{class:"fas fa-home me-2"},null,-1),u("Back to Home ")])),_:1})])]))])])}}},Y=B(O,[["__scopeId","data-v-647f9b29"]]);export{Y as default};
//# sourceMappingURL=CmsPage-D37x0scp.js.map
