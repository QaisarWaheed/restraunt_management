import{_ as V,c as m,a as s,i as Y,j as i,f as a,v as n,b as x,O as y,F as M,g as C,t as b,d as T,J as D,L as v,C as P,T as A,N as k,S as p,o as c}from"./app-BLvk--SP.js";const E={name:"Settings",setup(){const _=v(!0),t=v(!1),U=v(null),o=[{name:"USD",symbol:"$"},{name:"EUR",symbol:"€"},{name:"GBP",symbol:"£"},{name:"INR",symbol:"₹"},{name:"CAD",symbol:"C$"},{name:"AUD",symbol:"A$"},{name:"JPY",symbol:"¥"}],f=v({business_name:"",logo:"",address:"",postal_code:"",country:"",state:"",city:"",phone:"",email:"",place_id:"",pickup_start_end_time:"",latitude:null,longitude:null,currency_symbol:"",timezone:"UTC",date_format:"Y-m-d",time_format:"H:i:s",is_active:!0}),w=async r=>{var g,S;const l=r.target.files[0];if(!l)return;if(l.size>2*1024*1024){p.fire({icon:"error",title:"Error",text:"Logo file size must be less than 2MB"});return}if(!l.type.startsWith("image/")){p.fire({icon:"error",title:"Error",text:"Please upload an image file"});return}const d=new FormData;d.append("logo",l);try{const u=await k.post("/tenant/upload-logo",d,{headers:{"Content-Type":"multipart/form-data"}});if(u.data.success)f.value.logo=u.data.url;else throw new Error(u.data.message||"Failed to upload logo")}catch(u){console.error("Error uploading logo:",u),p.fire({icon:"error",title:"Error",text:((S=(g=u.response)==null?void 0:g.data)==null?void 0:S.message)||"Failed to upload logo"})}},e=async()=>{try{const r=await k.get("/tenant/settings");if(r.data.success&&r.data.data){const l=r.data.data;if(f.value={business_name:l.business_name||"",logo:l.logo||"",address:l.address||"",postal_code:l.postal_code||"",country:l.country||"",state:l.state||"",city:l.city||"",phone:l.phone||"",email:l.email||"",place_id:l.place_id||"",pickup_start_end_time:l.pickup_start_end_time||"",latitude:l.latitude||null,longitude:l.longitude||null,currency_symbol:l.currency_symbol||"",timezone:l.timezone||"UTC",date_format:l.date_format||"Y-m-d",time_format:l.time_format||"H:i:s",is_active:!!l.is_active,facebook_link:l.facebook_link||"",twitter_link:l.twitter_link||"",linkedin_link:l.linkedin_link||"",google_plus_link:l.google_plus_link||"",instagram_link:l.instagram_link||""},l.currency_symbol){const d=o.find(g=>g.symbol===l.currency_symbol);d&&(f.value.currency_symbol=d.symbol)}}}catch(r){console.error("Error fetching settings:",r),p.fire({icon:"error",title:"Error",text:"Failed to fetch settings"})}finally{_.value=!1}},L=async()=>{var r,l;t.value=!0;try{const d=await k.put("/tenant/settings",f.value);if(d.data.success)p.fire({icon:"success",title:"Success",text:"Settings updated successfully",toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3});else throw new Error(d.data.message||"Failed to save settings")}catch(d){console.error("Error saving settings:",d),p.fire({icon:"error",title:"Error",text:((l=(r=d.response)==null?void 0:r.data)==null?void 0:l.message)||"Failed to save settings"})}finally{t.value=!1}};return P(()=>{Promise.all([e()]).then(()=>{}),document.querySelectorAll('[data-bs-toggle="tooltip"]').forEach(r=>{new A(r)})}),{form:f,loading:_,saving:t,logoInput:U,staticCurrencies:o,handleLogoUpload:w,saveSettings:L}}},I={class:"settings-page"},z={class:"card"},F={class:"card-body"},R={key:0,class:"text-center py-5"},B={class:"section mb-4"},q={class:"row g-3"},N={class:"col-md-6"},H={class:"col-md-6"},G={class:"d-flex align-items-center gap-3"},j={key:0,class:"logo-preview"},J=["src"],O={class:"flex-grow-1"},W={class:"col-md-6"},Z={class:"col-md-6"},K={class:"section mb-4"},Q={class:"row g-3"},X={class:"col-12"},h={class:"col-md-4"},$={class:"col-md-4"},ss={class:"col-md-4"},ts={class:"col-md-4"},os={class:"col-md-4"},es={class:"col-md-4"},ls={class:"col-md-6"},as={class:"col-md-6"},is={class:"section mb-4"},ns={class:"row g-3"},rs={class:"col-md-4"},ds={class:"input-group"},ms=["value"],cs={key:0,class:"input-group-text"},fs={class:"col-md-4"},us={class:"col-md-4"},ps={class:"col-md-4"},gs={class:"col-md-4"},ys={class:"form-check form-switch mt-2"},bs={class:"form-check-label",for:"statusSwitch"},vs={class:"section mb-4"},_s={class:"row g-3"},xs={class:"col-md-6"},ks={class:"col-md-6"},Us={class:"col-md-6"},ws={class:"col-md-6"},Ss={class:"col-md-6"},Ls={class:"section mb-4"},Vs={class:"text-end"},Ys=["disabled"],Ms={key:0,class:"spinner-border spinner-border-sm me-2",role:"status"};function Cs(_,t,U,o,f,w){return c(),m("div",I,[t[60]||(t[60]=s("div",{class:"d-flex justify-content-between align-items-center mb-4"},[s("h4",{class:"mb-0"},"Restaurant Settings")],-1)),s("div",z,[s("div",F,[o.loading?(c(),m("div",R,t[25]||(t[25]=[s("div",{class:"spinner-border text-primary",role:"status"},[s("span",{class:"visually-hidden"},"Loading...")],-1)]))):(c(),m("form",{key:1,onSubmit:t[24]||(t[24]=Y((...e)=>o.saveSettings&&o.saveSettings(...e),["prevent"])),class:"settings-form"},[s("div",B,[t[31]||(t[31]=s("h5",{class:"section-title"},"Basic Information",-1)),s("div",q,[s("div",N,[t[26]||(t[26]=s("label",{class:"form-label"},[a("Business Name "),s("span",{class:"ms-1","data-bs-toggle":"tooltip",title:"Enter your restaurant's business name."},[s("i",{class:"fas fa-info-circle text-secondary"})])],-1)),i(s("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.form.business_name=e),type:"text",class:"form-control",required:""},null,512),[[n,o.form.business_name]])]),s("div",H,[t[28]||(t[28]=s("label",{class:"form-label"},[a("Logo "),s("span",{class:"ms-1","data-bs-toggle":"tooltip",title:"Upload your restaurant's logo. Recommended size: 200x200px. Max size: 2MB."},[s("i",{class:"fas fa-info-circle text-secondary"})])],-1)),s("div",G,[o.form.logo?(c(),m("div",j,[s("img",{src:o.form.logo,alt:"Restaurant Logo",class:"img-thumbnail",style:{"max-height":"100px"}},null,8,J)])):x("",!0),s("div",O,[s("input",{type:"file",class:"form-control",accept:"image/*",onChange:t[1]||(t[1]=(...e)=>o.handleLogoUpload&&o.handleLogoUpload(...e)),ref:"logoInput"},null,544),t[27]||(t[27]=s("small",{class:"text-muted"},"Recommended size: 200x200px. Max size: 2MB",-1))])])]),s("div",W,[t[29]||(t[29]=s("label",{class:"form-label"},[a("Email "),s("span",{class:"ms-1","data-bs-toggle":"tooltip",title:"Your restaurant's main email address. This is used for notifications and contact."},[s("i",{class:"fas fa-info-circle text-secondary"})])],-1)),i(s("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>o.form.email=e),type:"email",class:"form-control",required:"",disabled:"",readonly:""},null,512),[[n,o.form.email]])]),s("div",Z,[t[30]||(t[30]=s("label",{class:"form-label"},[a("Phone "),s("span",{class:"ms-1","data-bs-toggle":"tooltip",title:"Your restaurant's main phone number."},[s("i",{class:"fas fa-info-circle text-secondary"})])],-1)),i(s("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>o.form.phone=e),type:"tel",class:"form-control",required:""},null,512),[[n,o.form.phone]])])])]),s("div",K,[t[41]||(t[41]=s("h5",{class:"section-title"},"Location Information",-1)),s("div",Q,[s("div",X,[t[32]||(t[32]=s("label",{class:"form-label"},[a("Address "),s("span",{class:"ms-1","data-bs-toggle":"tooltip",title:"Full address of your restaurant."},[s("i",{class:"fas fa-info-circle text-secondary"})])],-1)),i(s("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>o.form.address=e),type:"text",class:"form-control",required:""},null,512),[[n,o.form.address]])]),s("div",h,[t[33]||(t[33]=s("label",{class:"form-label"},[a("City "),s("span",{class:"ms-1","data-bs-toggle":"tooltip",title:"City where your restaurant is located."},[s("i",{class:"fas fa-info-circle text-secondary"})])],-1)),i(s("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>o.form.city=e),type:"text",class:"form-control",required:""},null,512),[[n,o.form.city]])]),s("div",$,[t[34]||(t[34]=s("label",{class:"form-label"},[a("State "),s("span",{class:"ms-1","data-bs-toggle":"tooltip",title:"State or province of your restaurant."},[s("i",{class:"fas fa-info-circle text-secondary"})])],-1)),i(s("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>o.form.state=e),type:"text",class:"form-control",required:""},null,512),[[n,o.form.state]])]),s("div",ss,[t[35]||(t[35]=s("label",{class:"form-label"},[a("Postal Code "),s("span",{class:"ms-1","data-bs-toggle":"tooltip",title:"Postal or ZIP code for your restaurant's address."},[s("i",{class:"fas fa-info-circle text-secondary"})])],-1)),i(s("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>o.form.postal_code=e),type:"text",class:"form-control",required:""},null,512),[[n,o.form.postal_code]])]),s("div",ts,[t[36]||(t[36]=s("label",{class:"form-label"},[a("Country "),s("span",{class:"ms-1","data-bs-toggle":"tooltip",title:"Country where your restaurant is located."},[s("i",{class:"fas fa-info-circle text-secondary"})])],-1)),i(s("input",{"onUpdate:modelValue":t[8]||(t[8]=e=>o.form.country=e),type:"text",class:"form-control",required:""},null,512),[[n,o.form.country]])]),s("div",os,[t[37]||(t[37]=s("label",{class:"form-label"},[a("Place ID "),s("span",{class:"ms-1","data-bs-toggle":"tooltip",title:"Google Maps Place ID (optional, for advanced integrations)."},[s("i",{class:"fas fa-info-circle text-secondary"})])],-1)),i(s("input",{"onUpdate:modelValue":t[9]||(t[9]=e=>o.form.place_id=e),type:"text",class:"form-control"},null,512),[[n,o.form.place_id]])]),s("div",es,[t[38]||(t[38]=s("label",{class:"form-label"},[a("Pickup Time Range "),s("span",{class:"ms-1","data-bs-toggle":"tooltip",title:"Time range for order pickups (e.g., 9:00 AM - 10:00 PM)."},[s("i",{class:"fas fa-info-circle text-secondary"})])],-1)),i(s("input",{"onUpdate:modelValue":t[10]||(t[10]=e=>o.form.pickup_start_end_time=e),type:"text",class:"form-control",placeholder:"e.g., 9:00 AM - 10:00 PM"},null,512),[[n,o.form.pickup_start_end_time]])]),s("div",ls,[t[39]||(t[39]=s("label",{class:"form-label"},[a("Latitude "),s("span",{class:"ms-1","data-bs-toggle":"tooltip",title:"Latitude coordinate for your restaurant (optional)."},[s("i",{class:"fas fa-info-circle text-secondary"})])],-1)),i(s("input",{"onUpdate:modelValue":t[11]||(t[11]=e=>o.form.latitude=e),type:"number",step:"any",class:"form-control"},null,512),[[n,o.form.latitude]])]),s("div",as,[t[40]||(t[40]=s("label",{class:"form-label"},[a("Longitude "),s("span",{class:"ms-1","data-bs-toggle":"tooltip",title:"Longitude coordinate for your restaurant (optional)."},[s("i",{class:"fas fa-info-circle text-secondary"})])],-1)),i(s("input",{"onUpdate:modelValue":t[12]||(t[12]=e=>o.form.longitude=e),type:"number",step:"any",class:"form-control"},null,512),[[n,o.form.longitude]])])])]),s("div",is,[t[50]||(t[50]=s("h5",{class:"section-title"},"System Settings",-1)),s("div",ns,[s("div",rs,[t[42]||(t[42]=s("label",{class:"form-label"},[a("Currency "),s("span",{class:"ms-1","data-bs-toggle":"tooltip",title:"Select the currency for your restaurant's transactions."},[s("i",{class:"fas fa-info-circle text-secondary"})])],-1)),s("div",ds,[i(s("select",{"onUpdate:modelValue":t[13]||(t[13]=e=>o.form.currency_symbol=e),class:"form-select"},[(c(!0),m(M,null,C(o.staticCurrencies,e=>(c(),m("option",{key:e.symbol,value:e.symbol},b(e.name)+" ("+b(e.symbol)+") ",9,ms))),128))],512),[[y,o.form.currency_symbol]]),o.form.currency_symbol?(c(),m("span",cs,b(o.form.currency_symbol),1)):x("",!0)])]),s("div",fs,[t[44]||(t[44]=s("label",{class:"form-label"},[a("Timezone "),s("span",{class:"ms-1","data-bs-toggle":"tooltip",title:"Select your restaurant's timezone."},[s("i",{class:"fas fa-info-circle text-secondary"})])],-1)),i(s("select",{"onUpdate:modelValue":t[14]||(t[14]=e=>o.form.timezone=e),class:"form-select"},t[43]||(t[43]=[T('<option value="UTC" data-v-d4ea3183>UTC</option><option value="America/New_York" data-v-d4ea3183>Eastern Time</option><option value="America/Chicago" data-v-d4ea3183>Central Time</option><option value="America/Denver" data-v-d4ea3183>Mountain Time</option><option value="America/Los_Angeles" data-v-d4ea3183>Pacific Time</option>',5)]),512),[[y,o.form.timezone]])]),s("div",us,[t[46]||(t[46]=s("label",{class:"form-label"},[a("Date Format "),s("span",{class:"ms-1","data-bs-toggle":"tooltip",title:"Choose how dates are displayed in your system."},[s("i",{class:"fas fa-info-circle text-secondary"})])],-1)),i(s("select",{"onUpdate:modelValue":t[15]||(t[15]=e=>o.form.date_format=e),class:"form-select"},t[45]||(t[45]=[s("option",{value:"Y-m-d"},"YYYY-MM-DD",-1),s("option",{value:"m/d/Y"},"MM/DD/YYYY",-1),s("option",{value:"d/m/Y"},"DD/MM/YYYY",-1)]),512),[[y,o.form.date_format]])]),s("div",ps,[t[48]||(t[48]=s("label",{class:"form-label"},[a("Time Format "),s("span",{class:"ms-1","data-bs-toggle":"tooltip",title:"Choose how times are displayed in your system."},[s("i",{class:"fas fa-info-circle text-secondary"})])],-1)),i(s("select",{"onUpdate:modelValue":t[16]||(t[16]=e=>o.form.time_format=e),class:"form-select"},t[47]||(t[47]=[s("option",{value:"H:i:s"},"24-hour (HH:mm:ss)",-1),s("option",{value:"h:i:s A"},"12-hour (hh:mm:ss AM/PM)",-1)]),512),[[y,o.form.time_format]])]),s("div",gs,[t[49]||(t[49]=s("label",{class:"form-label"},[a("Status "),s("span",{class:"ms-1","data-bs-toggle":"tooltip",title:"Toggle to activate or deactivate your restaurant in the system."},[s("i",{class:"fas fa-info-circle text-secondary"})])],-1)),s("div",ys,[i(s("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":t[17]||(t[17]=e=>o.form.is_active=e),id:"statusSwitch"},null,512),[[D,o.form.is_active]]),s("label",bs,b(o.form.is_active?"Active":"Inactive"),1)])])])]),s("div",vs,[t[56]||(t[56]=s("h5",{class:"section-title"},"Social Media Links",-1)),s("div",_s,[s("div",xs,[t[51]||(t[51]=s("label",{class:"form-label"},[a("Facebook Link "),s("span",{class:"ms-1","data-bs-toggle":"tooltip",title:"Your restaurant's Facebook page URL."},[s("i",{class:"fas fa-info-circle text-secondary"})])],-1)),i(s("input",{"onUpdate:modelValue":t[18]||(t[18]=e=>o.form.facebook_link=e),type:"url",class:"form-control"},null,512),[[n,o.form.facebook_link]])]),s("div",ks,[t[52]||(t[52]=s("label",{class:"form-label"},[a("Twitter Link "),s("span",{class:"ms-1","data-bs-toggle":"tooltip",title:"Your restaurant's Twitter profile URL."},[s("i",{class:"fas fa-info-circle text-secondary"})])],-1)),i(s("input",{"onUpdate:modelValue":t[19]||(t[19]=e=>o.form.twitter_link=e),type:"url",class:"form-control"},null,512),[[n,o.form.twitter_link]])]),s("div",Us,[t[53]||(t[53]=s("label",{class:"form-label"},[a("LinkedIn Link "),s("span",{class:"ms-1","data-bs-toggle":"tooltip",title:"Your restaurant's LinkedIn page URL."},[s("i",{class:"fas fa-info-circle text-secondary"})])],-1)),i(s("input",{"onUpdate:modelValue":t[20]||(t[20]=e=>o.form.linkedin_link=e),type:"url",class:"form-control"},null,512),[[n,o.form.linkedin_link]])]),s("div",ws,[t[54]||(t[54]=s("label",{class:"form-label"},[a("Google Plus Link "),s("span",{class:"ms-1","data-bs-toggle":"tooltip",title:"Your restaurant's Google Plus page URL (if any)."},[s("i",{class:"fas fa-info-circle text-secondary"})])],-1)),i(s("input",{"onUpdate:modelValue":t[21]||(t[21]=e=>o.form.google_plus_link=e),type:"url",class:"form-control"},null,512),[[n,o.form.google_plus_link]])]),s("div",Ss,[t[55]||(t[55]=s("label",{class:"form-label"},[a("Instagram Link "),s("span",{class:"ms-1","data-bs-toggle":"tooltip",title:"Your restaurant's Instagram profile URL."},[s("i",{class:"fas fa-info-circle text-secondary"})])],-1)),i(s("input",{"onUpdate:modelValue":t[22]||(t[22]=e=>o.form.instagram_link=e),type:"url",class:"form-control"},null,512),[[n,o.form.instagram_link]])])])]),s("div",Ls,[t[57]||(t[57]=s("h5",{class:"section-title"},"Description",-1)),t[58]||(t[58]=s("label",{class:"form-label"},[a("Description "),s("span",{class:"ms-1","data-bs-toggle":"tooltip",title:"A short description of your restaurant, cuisine, or specialties."},[s("i",{class:"fas fa-info-circle text-secondary"})])],-1)),i(s("textarea",{"onUpdate:modelValue":t[23]||(t[23]=e=>o.form.description=e),class:"form-control",rows:"3"},null,512),[[n,o.form.description]])]),s("div",Vs,[s("button",{type:"submit",class:"btn btn-primary",disabled:o.saving},[o.saving?(c(),m("span",Ms)):x("",!0),t[59]||(t[59]=a(" Save Settings "))],8,Ys)])],32))])])])}const Ds=V(E,[["render",Cs],["__scopeId","data-v-d4ea3183"]]);export{Ds as default};
//# sourceMappingURL=Settings-Du5K2SMV.js.map
