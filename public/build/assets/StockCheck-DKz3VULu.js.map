{"version":3,"file":"StockCheck-DKz3VULu.js","sources":["../../../resources/js/views/tenant/StockCheck.vue"],"sourcesContent":["// ... existing code ...\n<template>\n  <div class=\"contact-banner-section\">\n    <div class=\"contact-banner-bg\">\n      <div class=\"contact-banner-overlay\"></div>\n      <div class=\"contact-banner-content text-center\">\n        <h1 class=\"mt-2 mb-2\" style=\"font-family: 'Playfair Display', serif;\">{{ $t('stock_check.title') }}</h1>\n        <div class=\"mb-3\">{{ $t('stock_check.description') }}</div>\n      </div>\n    </div>\n    <div class=\"container contact-card-container\">\n      <div class=\"contact-card mx-auto\">\n        <div class=\"row g-0 align-items-stretch\">\n\n          <div class=\"col-md-12 p-4 d-flex flex-column justify-content-center\">\n            <section class=\"reservation-section\">\n              <div class=\"container\">\n                <div class=\"reservation-card mx-auto\">\n                  <div class=\"text-center reservation-title mb-4\">{{ $t('stock_check.reservation_title') }}</div>\n                  <form @submit.prevent=\"handleReservation\" autocomplete=\"off\">\n                    <div class=\"row g-3 mb-3\">\n                      <div class=\"col-md-4\">\n                        <div class=\"input-group\">\n                          <input type=\"text\" class=\"form-control\" v-model=\"reservation.full_name\" required\n                            :placeholder=\"$t('stock_check.full_name')\" id=\"reservationFullName\" :disabled=\"reservationLoading\"\n                            data-bs-toggle=\"tooltip\" :title=\"$t('stock_check.full_name_tip')\">\n                          <span class=\"input-group-text\"><i class=\"fas fa-user\"></i></span>\n                        </div>\n                      </div>\n                      <div class=\"col-md-4\">\n                        <div class=\"input-group\">\n                          <input type=\"text\" class=\"form-control\" v-model=\"reservation.phone_number\" required\n                            :placeholder=\"$t('stock_check.phone_number')\" id=\"reservationPhone\" :disabled=\"reservationLoading\"\n                            data-bs-toggle=\"tooltip\" :title=\"$t('stock_check.phone_number_tip')\">\n                          <span class=\"input-group-text\"><i class=\"fas fa-phone\"></i></span>\n                        </div>\n                      </div>\n                      <div class=\"col-md-4\">\n                        <div class=\"input-group\">\n                          <input type=\"email\" class=\"form-control\" v-model=\"reservation.email\" required\n                            :placeholder=\"$t('stock_check.email')\" id=\"reservationEmail\" :disabled=\"reservationLoading\"\n                            data-bs-toggle=\"tooltip\" :title=\"$t('stock_check.email_tip')\">\n                          <span class=\"input-group-text\"><i class=\"fas fa-envelope\"></i></span>\n                        </div>\n                      </div>\n                      <div class=\"col-md-6\">\n                        <div class=\"input-group\">\n                          <select class=\"form-select\" v-model=\"reservation.product_id\" required :disabled=\"reservationLoading\"\n                            data-bs-toggle=\"tooltip\" :title=\"$t('stock_check.select_product_tip')\">\n                            <option value=\"\" disabled>{{ $t('stock_check.select_product') }}</option>\n                            <option v-for=\"product in products\" :key=\"product.id\" :value=\"product.id\">\n                              {{ product.name }}\n                            </option>\n                          </select>\n                          <span class=\"input-group-text\"><i class=\"fas fa-box\"></i></span>\n                        </div>\n                      </div>\n                      <div class=\"col-md-6\">\n                        <div class=\"input-group\">\n                          <input type=\"number\" min=\"1\" class=\"form-control\" v-model=\"reservation.qty\" required\n                            :placeholder=\"$t('stock_check.quantity')\" id=\"reservationQty\" :disabled=\"reservationLoading\"\n                            data-bs-toggle=\"tooltip\" :title=\"$t('stock_check.quantity_tip')\">\n                          <span class=\"input-group-text\"><i class=\"fas fa-sort-numeric-up\"></i></span>\n                        </div>\n                      </div>\n                    </div>\n                    <div class=\"d-grid mb-2\">\n                      <button type=\"submit\" class=\"btn btn-danger\" :disabled=\"reservationLoading\">\n                        <span v-if=\"reservationLoading\"><span class=\"spinner-border spinner-border-sm me-2\"></span>{{ $t('stock_check.processing') }}</span>\n                        <span v-else>{{ $t('stock_check.check_stock') }}</span>\n                      </button>\n                    </div>\n                  </form>\n                  <!-- <div class=\"reservation-callout text-center mt-3\">\n                    <span>You can also call: <span class=\"text-danger fw-bold\">(+100) 123 456 7890</span> to make a\n                      reservation</span>\n                  </div> -->\n                </div>\n              </div>\n            </section>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue'\nimport Swal from 'sweetalert2'\nimport axios from 'axios'\nimport { Tooltip } from 'bootstrap'\n// Remove vue-select imports\n\nconst reservation = ref({\n  full_name: '',\n  phone_number: '',\n  email: '',\n  product_id: '',\n  qty: 1\n});\nconst reservationLoading = ref(false);\nconst products = ref([]);\n\nconst fetchProducts = async () => {\n  try {\n    const response = await axios.get('/tenant/products', { params: { status: 'active', per_page: 1000 } });\n    if (response.data.success) {\n      products.value = response.data.data.data;\n    } else {\n      products.value = [];\n    }\n  } catch (error) {\n    products.value = [];\n  }\n};\n\nconst handleReservation = async () => {\n  reservationLoading.value = true;\n  try {\n    const response = await axios.post('/tenant/stock-check', {\n      full_name: reservation.value.full_name,\n      phone_number: reservation.value.phone_number,\n      email: reservation.value.email,\n      product_id: reservation.value.product_id,\n      qty: reservation.value.qty\n    });\n    if (response.data.success) {\n      await Swal.fire({\n        icon: 'success',\n        title: 'Stock Check Submitted!',\n        text: response.data.message,\n        confirmButtonColor: '#c62828'\n      });\n      reservation.value = { full_name: '', phone_number: '', email: '', product_id: '', qty: 1 };\n    } else {\n      throw new Error(response.data.message || 'Submission failed.');\n    }\n  } catch (error) {\n    Swal.fire({\n      icon: 'error',\n      title: 'Oops...',\n      text: error.response?.data?.message || 'Something went wrong! Please try again.',\n      confirmButtonColor: '#c62828'\n    });\n  } finally {\n    reservationLoading.value = false;\n  }\n};\n\nonMounted(() => {\n  fetchProducts();\n  document.querySelectorAll('[data-bs-toggle=\"tooltip\"]').forEach(el => {\n    new Tooltip(el)\n  })\n})\n</script>\n\n<style scoped>\n.contact-banner-section {\n  min-height: 100vh;\n  background: #f8f9fa;\n  position: relative;\n}\n\n.contact-banner-bg {\n  background: url('/Mox_files/reservation.jpg') center center/cover no-repeat;\n  min-height: 420px;\n  position: relative;\n  width: 100vw;\n  max-width: 100%;\n}\n\n.contact-banner-overlay {\n  position: absolute;\n  inset: 0;\n  background: #000000b3;\n  z-index: 1;\n}\n\n.contact-banner-content {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 2;\n  color: #fff;\n  width: 100%;\n}\n\n.contact-card-container {\n  position: relative;\n  top: -120px;\n  z-index: 3;\n  margin-bottom: -80px;\n}\n\n.contact-card {\n  background: #fff;\n  border-radius: 18px;\n  box-shadow: 0 6px 32px rgba(0, 0, 0, 0.18);\n  padding: 0;\n  max-width: 900px;\n  margin: 0 auto;\n  border: 2px solid #c62828;\n}\n\n.contact-form label {\n  font-weight: 500;\n  color: #c62828;\n}\n\n.contact-form .form-control:focus {\n  border-color: #c62828;\n  box-shadow: 0 0 0 0.15rem rgba(198, 40, 40, 0.12);\n}\n\n.btn-danger {\n  background: #c62828;\n  border: none;\n  font-weight: bold;\n  letter-spacing: 1px;\n}\n\n.btn-danger:hover {\n  background: #b71c1c;\n}\n\n.footer-social a {\n  color: #c62828;\n  font-size: 1.3rem;\n  background: rgba(255, 255, 255, 0.08);\n  border-radius: 50%;\n  width: 36px;\n  height: 36px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: background 0.2s, color 0.2s;\n}\n\n.footer-social a:hover {\n  background: #c62828;\n  color: #fff;\n}\n\n@media (max-width: 991.98px) {\n  .contact-card {\n    max-width: 98vw;\n  }\n\n  .contact-card-container {\n    top: -80px;\n    margin-bottom: -40px;\n  }\n}\n\n@media (max-width: 767.98px) {\n  .contact-banner-content h1 {\n    font-size: 2.2rem;\n  }\n\n  .contact-card {\n    border-radius: 12px;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.10);\n  }\n\n  .contact-card-container {\n    top: -40px;\n    margin-bottom: 0;\n  }\n}\n\n.reservation-title {\n  font-family: 'Playfair Display', serif;\n  /* font-weight: bold; */\n  color: #222;\n  font-size: 1.08rem;\n  margin-bottom: 0.5rem;\n  border-bottom: 3px solid #c62828;\n  /* display: inline-block; */\n  padding-bottom: 0.2rem;\n}\n</style>\n"],"names":["reservation","ref","reservationLoading","products","fetchProducts","response","axios","handleReservation","Swal","error","_b","_a","onMounted","el","Tooltip"],"mappings":"stCA8FA,MAAMA,EAAcC,EAAI,CACtB,UAAW,GACX,aAAc,GACd,MAAO,GACP,WAAY,GACZ,IAAK,CACP,CAAC,EACKC,EAAqBD,EAAI,EAAK,EAC9BE,EAAWF,EAAI,EAAE,EAEjBG,EAAgB,SAAY,CAChC,GAAI,CACF,MAAMC,EAAW,MAAMC,EAAM,IAAI,mBAAoB,CAAE,OAAQ,CAAE,OAAQ,SAAU,SAAU,GAAM,CAAA,CAAE,EACjGD,EAAS,KAAK,QAChBF,EAAS,MAAQE,EAAS,KAAK,KAAK,KAEpCF,EAAS,MAAQ,CAAE,CAEtB,MAAe,CACdA,EAAS,MAAQ,CAAE,CACvB,CACA,EAEMI,EAAoB,SAAY,SACpCL,EAAmB,MAAQ,GAC3B,GAAI,CACF,MAAMG,EAAW,MAAMC,EAAM,KAAK,sBAAuB,CACvD,UAAWN,EAAY,MAAM,UAC7B,aAAcA,EAAY,MAAM,aAChC,MAAOA,EAAY,MAAM,MACzB,WAAYA,EAAY,MAAM,WAC9B,IAAKA,EAAY,MAAM,GAC7B,CAAK,EACD,GAAIK,EAAS,KAAK,QAChB,MAAMG,EAAK,KAAK,CACd,KAAM,UACN,MAAO,yBACP,KAAMH,EAAS,KAAK,QACpB,mBAAoB,SAC5B,CAAO,EACDL,EAAY,MAAQ,CAAE,UAAW,GAAI,aAAc,GAAI,MAAO,GAAI,WAAY,GAAI,IAAK,CAAG,MAE1F,OAAM,IAAI,MAAMK,EAAS,KAAK,SAAW,oBAAoB,CAEhE,OAAQI,EAAO,CACdD,EAAK,KAAK,CACR,KAAM,QACN,MAAO,UACP,OAAME,GAAAC,EAAAF,EAAM,WAAN,YAAAE,EAAgB,OAAhB,YAAAD,EAAsB,UAAW,0CACvC,mBAAoB,SAC1B,CAAK,CACL,QAAY,CACRR,EAAmB,MAAQ,EAC/B,CACA,EAEA,OAAAU,EAAU,IAAM,CACdR,EAAe,EACf,SAAS,iBAAiB,4BAA4B,EAAE,QAAQS,GAAM,CACpE,IAAIC,EAAQD,CAAE,CACf,CAAA,CACH,CAAC"}