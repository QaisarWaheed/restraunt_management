{"version":3,"file":"Roles-DtReA3YN.js","sources":["../../../resources/js/views/tenant_dashboard/Roles.vue"],"sourcesContent":["<template>\n  <div class=\"roles-management\">\n    <div class=\"container-fluid\">\n      <div class=\"row mb-4\">\n        <div class=\"col\">\n          <h2>Roles & Permissions</h2>\n          <p class=\"text-muted\">Manage system roles and their permissions</p>\n        </div>\n        <div class=\"col-auto\">\n          <button class=\"btn btn-primary\" @click=\"openAddRoleModal\">\n            <i class=\"fas fa-plus me-2\"></i>Add New Role\n          </button>\n        </div>\n      </div>\n\n      <!-- Loading State -->\n      <div v-if=\"loading\" class=\"text-center my-5\">\n        <div class=\"spinner-border text-primary\" role=\"status\">\n          <span class=\"visually-hidden\">Loading...</span>\n        </div>\n      </div>\n\n      <!-- Error State -->\n      <div v-else-if=\"error\" class=\"alert alert-danger\" role=\"alert\">\n        {{ error }}\n      </div>\n\n      <!-- Empty State -->\n      <div v-else-if=\"!roles || roles.length === 0\" class=\"text-center my-5\">\n        <div class=\"empty-state\">\n          <i class=\"fas fa-store fa-4x text-muted mb-4\"></i>\n          <h3>No Roles Found</h3>\n          <p class=\"text-muted\">There are no roles registered yet.</p>\n          <button class=\"btn btn-primary mt-3\" @click=\"openAddRoleModal\">\n            <i class=\"fas fa-plus me-2\"></i>Add First Role\n          </button>\n        </div>\n      </div>\n\n      <!-- Roles List -->\n      <div v-else class=\"card\">\n        <div class=\"card-body\">\n          <div class=\"table-responsive\">\n            <table class=\"table table-hover table-sm\">\n              <thead>\n                <tr>\n                  <th>Role Name</th>\n                  <th class=\"d-none d-md-table-cell\">Description</th>\n                  <th class=\"d-none d-md-table-cell\">Users Count</th>\n                  <th class=\"d-none d-md-table-cell\">Permissions</th>\n                  <th class=\"d-none d-md-table-cell\">Actions</th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr v-for=\"role in roles\" :key=\"role.id\" class=\"d-block d-md-table-row w-100 mb-2 mb-md-0\">\n                  <td>\n                    <div class=\"fw-bold\">{{ role.name }}</div>\n                    <div class=\"d-md-none small text-muted\">\n                      <span v-if=\"role.description\">{{ role.description }}</span>\n                      <span v-else>-</span>\n                      <br>\n                      Users: {{ role.users_count || 0 }}<br>\n                      <span v-if=\"role.permissions && role.permissions.length\">Permissions: {{ role.permissions.slice(0,3).map(p=>p.name).join(', ') }}<span v-if=\"role.permissions.length > 3\"> +{{ role.permissions.length-3 }} more</span></span>\n                    </div>\n                  </td>\n                  <td class=\"d-none d-md-table-cell\">{{ role.description || '-' }}</td>\n                  <td class=\"d-none d-md-table-cell\">{{ role.users_count || 0 }}</td>\n                  <td class=\"d-none d-md-table-cell\">\n                    <div class=\"permissions-badges\">\n                      <span v-for=\"permission in (role.permissions || []).slice(0, 3)\" :key=\"permission.id\" class=\"badge bg-info me-1\">{{ permission.name }}</span>\n                      <span v-if=\"role.permissions && role.permissions.length > 3\" class=\"badge bg-secondary\">+{{ role.permissions.length - 3 }} more</span>\n                    </div>\n                  </td>\n                  <td class=\"d-none d-md-table-cell\">\n                    <div class=\"btn-group\">\n                      <button class=\"btn btn-sm btn-outline-primary\" @click=\"editRole(role)\"><i class=\"fas fa-edit\"></i></button>\n                      <button class=\"btn btn-sm btn-outline-danger\" @click=\"deleteRole(role)\" :disabled=\"role.name === 'super_admin'\"><i class=\"fas fa-trash\"></i></button>\n                    </div>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Role Modal -->\n    <div class=\"modal fade\" id=\"roleModal\" tabindex=\"-1\" data-bs-backdrop=\"static\">\n      <div class=\"modal-dialog modal-lg\">\n        <div class=\"modal-content role-modal-content\">\n          <div class=\"modal-header role-modal-header\">\n            <h5 class=\"modal-title role-modal-title\">{{ isEditing ? 'Edit Role' : 'Add New Role' }}</h5>\n            <button type=\"button\" class=\"btn-close\" @click=\"closeModal\"></button>\n          </div>\n          <div class=\"modal-body role-modal-body\">\n            <form @submit.prevent=\"saveRole\">\n              <div class=\"row g-3 mb-3\">\n                <div class=\"col-md-6\">\n                  <div class=\"input-group\">\n                    <span class=\"input-group-text\"><i class=\"fas fa-user-tag\"></i></span>\n                    <input type=\"text\" class=\"form-control\" v-model=\"roleForm.name\" :placeholder=\"'Role Name*'\" required data-bs-toggle=\"tooltip\" title=\"Enter a descriptive name for this role (e.g. Manager, Waiter)\">\n                  </div>\n                </div>\n                <div class=\"col-md-6\">\n                  <div class=\"input-group\">\n                    <span class=\"input-group-text\"><i class=\"fas fa-align-left\"></i></span>\n                    <input type=\"text\" class=\"form-control\" v-model=\"roleForm.description\" :placeholder=\"'Description (optional)'\" data-bs-toggle=\"tooltip\" title=\"Describe the responsibilities or scope of this role (optional)\">\n                  </div>\n                </div>\n              </div>\n              <div class=\"mb-3\">\n                <label class=\"form-label mb-2\">\n                  Permissions\n                  <i class=\"fas fa-info-circle ms-1\" data-bs-toggle=\"tooltip\" title=\"Select the permissions this role should have\"></i>\n                </label>\n                <div class=\"mb-2\">\n                  <input type=\"checkbox\" id=\"selectAllPermissions\" v-model=\"selectAll\" @change=\"toggleSelectAll\">\n                  <label for=\"selectAllPermissions\" class=\"ms-1\" data-bs-toggle=\"tooltip\" title=\"Select or deselect all permissions\">Select All</label>\n                </div>\n                <div v-if=\"!permissions || permissions.length === 0\" class=\"alert alert-warning\">\n                  No permissions found\n                </div>\n                <div v-else class=\"permissions-grid role-permissions-grid\">\n                  <div v-for=\"permission in permissions\" :key=\"permission.id\" class=\"form-check\">\n                    <input type=\"checkbox\" class=\"form-check-input\" :id=\"'permission-' + permission.id\" :value=\"permission.id\" v-model=\"roleForm.permissions\" :title=\"'Allow ' + formatPermissionName(permission.name)\" data-bs-toggle=\"tooltip\">\n                    <label class=\"form-check-label\" :for=\"'permission-' + permission.id\">\n                      {{ formatPermissionName(permission.name) }}\n                    </label>\n                  </div>\n                </div>\n              </div>\n              <div class=\"modal-footer role-modal-footer\">\n                <button type=\"button\" class=\"btn btn-secondary\" @click=\"closeModal\">\n                  Cancel\n                </button>\n                <button type=\"submit\" class=\"btn btn-submit\" :disabled=\"loading\">\n                  <span v-if=\"loading\" class=\"spinner-border spinner-border-sm me-1\"></span>\n                  {{ isEditing ? 'Update' : 'Create' }}\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, onMounted } from 'vue'\nimport axios from 'axios'\nimport Swal from 'sweetalert2'\nimport { Modal } from 'bootstrap'\n\nexport default {\n  name: 'Roles',\n  setup() {\n    const roles = ref([])\n    const permissions = ref([])\n    const loading = ref(true)\n    const error = ref(null)\n    const isEditing = ref(false)\n    const editingId = ref(null)\n    const modalInstance = ref(null)\n    const errors = ref({})\n    const selectAll = ref(false)\n\n    const roleForm = ref({\n      name: '',\n      description: '',\n      permissions: []\n    })\n\n    const fetchRoles = async () => {\n      try {\n        loading.value = true\n        error.value = null\n        const response = await axios.get('/tenant/roles')\n        console.log('Roles response:', response.data)\n        if (response.data && response.data.data) {\n          roles.value = response.data.data\n        } else {\n          roles.value = []\n        }\n      } catch (err) {\n        console.error('Error fetching roles:', err)\n        error.value = err.response?.data?.message || 'Failed to load roles'\n        roles.value = []\n      } finally {\n        loading.value = false\n      }\n    }\n\n    const fetchPermissions = async () => {\n      try {\n        const response = await axios.get('/tenant/permissions')\n        console.log('Permissions response:', response.data)\n        if (response.data && response.data.data) {\n          permissions.value = response.data.data\n        } else {\n          permissions.value = []\n        }\n      } catch (err) {\n        console.error('Error fetching permissions:', err)\n        permissions.value = []\n        Swal.fire({\n          icon: 'error',\n          title: 'Error',\n          text: err.response?.data?.message || 'Failed to load permissions'\n        })\n      }\n    }\n\n    const openAddRoleModal = () => {\n      isEditing.value = false\n      editingId.value = null\n      roleForm.value = {\n        name: '',\n        description: '',\n        permissions: []\n      }\n      errors.value = {}\n      const modalEl = document.getElementById('roleModal')\n      if (modalEl) {\n        modalInstance.value = new Modal(modalEl)\n        modalInstance.value.show()\n      }\n    }\n\n    const editRole = (role) => {\n      isEditing.value = true\n      editingId.value = role.id\n      roleForm.value = {\n        name: role.name,\n        description: role.description || '',\n        permissions: (role.permissions || []).map(p => p.id)\n      }\n      errors.value = {}\n      const modalEl = document.getElementById('roleModal')\n      if (modalEl) {\n        modalInstance.value = new Modal(modalEl)\n        modalInstance.value.show()\n      }\n    }\n\n    const closeModal = () => {\n      if (modalInstance.value) {\n        modalInstance.value.hide()\n      }\n      errors.value = {}\n    }\n\n    const saveRole = async () => {\n      try {\n        loading.value = true\n        errors.value = {}\n        error.value = null\n        \n        const url = isEditing.value \n          ? `/tenant/roles/${editingId.value}` \n          : '/tenant/roles'\n        const method = isEditing.value ? 'put' : 'post'\n\n        const response = await axios[method](url, roleForm.value)\n        console.log('Save role response:', response.data)\n        \n        await Swal.fire({\n          icon: 'success',\n          title: 'Success',\n          text: isEditing.value ? 'Role updated successfully' : 'Role created successfully',\n          timer: 1500,\n          showConfirmButton: false\n        })\n\n        closeModal()\n        await fetchRoles()\n      } catch (err) {\n        console.error('Error saving role:', err)\n        if (err.response?.data?.errors) {\n          errors.value = err.response.data.errors\n        } else {\n          Swal.fire({\n            icon: 'error',\n            title: 'Error',\n            text: err.response?.data?.message || 'Failed to save role'\n          })\n        }\n      } finally {\n        loading.value = false\n      }\n    }\n\n    const deleteRole = async (role) => {\n      if (role.name === 'super_admin') {\n        return\n      }\n\n      const result = await Swal.fire({\n        title: 'Are you sure?',\n        text: \"You won't be able to revert this!\",\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonColor: '#3085d6',\n        cancelButtonColor: '#d33',\n        confirmButtonText: 'Yes, delete it!'\n      })\n\n      if (result.isConfirmed) {\n        try {\n          loading.value = true\n          error.value = null\n          await axios.delete(`/tenant/roles/${role.id}`)\n          \n          await Swal.fire({\n            icon: 'success',\n            title: 'Success',\n            text: 'Role deleted successfully',\n            timer: 1500,\n            showConfirmButton: false\n          })\n\n          await fetchRoles()\n        } catch (err) {\n          console.error('Error deleting role:', err)\n          Swal.fire({\n            icon: 'error',\n            title: 'Error',\n            text: err.response?.data?.message || 'Failed to delete role'\n          })\n        } finally {\n          loading.value = false\n        }\n      }\n    }\n\n    function toggleSelectAll() {\n      if (selectAll.value) {\n        roleForm.value.permissions = permissions.value.map(p => p.id)\n      } else {\n        roleForm.value.permissions = []\n      }\n    }\n\n    function formatPermissionName(name) {\n      if (!name) return '';\n      return name.replace(/_/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase());\n    }\n\n    onMounted(async () => {\n      try {\n        await Promise.all([fetchRoles(), fetchPermissions()])\n        document.querySelectorAll('[data-bs-toggle=\"tooltip\"]').forEach(el => {\n          new window.bootstrap.Tooltip(el)\n        })\n      } catch (err) {\n        console.error('Error during initialization:', err)\n      }\n    })\n\n    return {\n      roles,\n      permissions,\n      loading,\n      error,\n      isEditing,\n      errors,\n      roleForm,\n      openAddRoleModal,\n      editRole,\n      closeModal,\n      saveRole,\n      deleteRole,\n      selectAll,\n      toggleSelectAll,\n      formatPermissionName\n    }\n  }\n}\n</script>\n\n<style scoped>\n.roles-management {\n  padding: 2rem;\n}\n\n.empty-state {\n  padding: 3rem 1rem;\n}\n\n.empty-state i {\n  color: #e9ecef;\n}\n\n.empty-state h3 {\n  margin: 1rem 0;\n  color: #343a40;\n}\n\n.card {\n  border: none;\n  box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);\n}\n\n.badge {\n  font-size: 0.85rem;\n  padding: 0.35em 0.65em;\n}\n\n.btn-group .btn {\n  margin: 0 0.2rem;\n}\n\n.table th {\n  font-weight: 600;\n  color: #2c3e50;\n}\n\n.table td {\n  vertical-align: middle;\n}\n\n.permissions-badges {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 0.25rem;\n}\n\n.permissions-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n  gap: 1rem;\n  max-height: 300px;\n  overflow-y: auto;\n  padding: 1rem;\n  border: 1px solid #dee2e6;\n  border-radius: 0.25rem;\n}\n\n.form-check {\n  margin-bottom: 0.5rem;\n}\n\n.form-check-label {\n  font-size: 0.9rem;\n  color: #495057;\n  cursor: pointer;\n}\n\n.form-check-input:checked {\n  background-color: #0d6efd;\n  border-color: #0d6efd;\n}\n\n.btn-submit {\n  background: #c62828;\n  color: #fff;\n  text-transform: uppercase;\n  font-weight: 400;\n  font-size: 15px;\n  border: none;\n  border-radius: 6px;\n  box-shadow: 0 2px 6px rgba(198,40,40,0.08);\n  padding: 0.7rem 2.2rem;\n  letter-spacing: 1px;\n  transition: background 0.15s, box-shadow 0.15s;\n}\n.btn-submit:hover, .btn-submit:focus {\n  background: #b71c1c;\n  color: #fff;\n  box-shadow: 0 4px 12px rgba(198,40,40,0.13);\n}\n\n.role-modal-content {\n  font-family: 'Inter', 'Roboto', 'Segoe UI', Arial, sans-serif;\n  font-size: 16px;\n  background: #fff;\n  border-radius: 0 0 12px 12px;\n  border: 1px solid #e0e0e0;\n  box-shadow: 0 8px 32px rgba(60,60,60,0.13);\n  max-width: 650px;\n  margin: auto;\n  padding: 0;\n}\n.role-modal-header {\n  background: #c62828;\n  color: #fff;\n  border-radius: 0;\n  border: none;\n  padding: 1.2rem 2rem;\n  position: relative;\n}\n.role-modal-title {\n  font-size: 1.25rem;\n  font-weight: 400;\n  letter-spacing: 0.01em;\n}\n.role-modal-header .btn-close {\n  filter: invert(1) grayscale(1) brightness(2);\n  opacity: 1;\n}\n.role-modal-body {\n  background: #fafbfc;\n  padding: 2rem 2rem 1.5rem 2rem;\n}\n.role-modal-footer {\n  border-top: 1px solid #ececec;\n  padding: 1.2rem 2rem;\n  background: #fafbfc;\n  border-radius: 0 0 12px 12px;\n  display: flex;\n  justify-content: center;\n}\n.input-group-text {\n  background: #f5f5f5;\n  border: 1px solid #e0e0e0;\n  color: #b71c1c;\n  font-size: 1.1rem;\n}\n.permissions-grid.role-permissions-grid {\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 0.3rem 1.2rem;\n  padding: 0.5rem 0.5rem 0.2rem 0.5rem;\n}\n</style> "],"names":["_sfc_main","roles","ref","permissions","loading","error","isEditing","editingId","modalInstance","errors","selectAll","roleForm","fetchRoles","response","axios","err","_b","_a","fetchPermissions","Swal","openAddRoleModal","modalEl","Modal","editRole","role","p","closeModal","saveRole","url","method","_d","_c","deleteRole","toggleSelectAll","formatPermissionName","name","l","onMounted","el","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_8","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_openBlock","_createElementBlock","_createElementVNode","$setup","args","_createTextVNode","_hoisted_5","_cache","_hoisted_6","_toDisplayString","_hoisted_7","_hoisted_9","_Fragment","_renderList","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_createCommentVNode","permission","_hoisted_23","$event","_hoisted_28","_withModifiers","_vModelText","_hoisted_41","_hoisted_42","_vModelCheckbox","_hoisted_47"],"mappings":"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"}