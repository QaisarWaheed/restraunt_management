import{_ as x,c as f,a as s,i as S,j as i,f as r,v as n,t as w,b as E,L as u,C as h,N as b,S as g,T as U,o as p}from"./app-BLvk--SP.js";const T={name:"Settings",setup(){const m=u(!0),t=u(!1);let c=[];const e=u({driver:"",host:"",port:"",username:"",password:"",encryption:"",email:"",from_name:""}),v=()=>{c.forEach(a=>a.dispose()),c=[],document.querySelectorAll('[data-bs-toggle="tooltip"]').forEach(a=>{c.push(new U(a))})},y=async()=>{try{const a=await b.get("/tenant/email-setting");if(a.data.success&&a.data.data){const l=a.data.data;e.value={driver:l.driver||"",port:l.port||"",host:l.host||"",username:l.username||"",password:l.password||"",email:l.email||"",encryption:l.encryption||"",from_name:l.from_name||""}}}catch(a){console.error("Error fetching Email Setting:",a),g.fire({icon:"error",title:"Error",text:"Failed to fetch Email Setting"})}finally{m.value=!1}},o=async()=>{var a,l;t.value=!0;try{const d=await b.put("/tenant/email-setting",e.value);if(d.data.success)g.fire({icon:"success",title:"Success",text:"Email Setup updated successfully",toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3});else throw new Error(d.data.message||"Failed to save Email Setting")}catch(d){console.error("Error saving Email Setting:",d),g.fire({icon:"error",title:"Error",text:((l=(a=d.response)==null?void 0:a.data)==null?void 0:l.message)||"Failed to save Email Setting"})}finally{t.value=!1}};return h(()=>{y(),v()}),{form:e,loading:m,saving:t,saveSettings:o}}},V={class:"settings-page"},M={class:"card"},_={class:""},k={key:0,class:"text-center py-5"},N={class:"section mb-4"},B={class:"row g-3"},A={class:"col-md-6"},F={class:"col-md-6"},L={class:"col-md-6"},z={class:"col-md-6"},C={class:"col-md-6"},D={class:"col-md-6"},j={class:"col-md-6"},P={class:"col-md-6"},Y={class:"form-label"},q={class:"text-end"},H=["disabled"],I={key:0,class:"spinner-border spinner-border-sm me-2",role:"status"};function K(m,t,c,e,v,y){return p(),f("div",V,[t[20]||(t[20]=s("div",{class:"d-flex justify-content-between align-items-center mb-4"},[s("h4",{class:"mb-0"},"Setup Email Settings")],-1)),s("div",M,[s("div",_,[e.loading?(p(),f("div",k,t[9]||(t[9]=[s("div",{class:"spinner-border text-primary",role:"status"},[s("span",{class:"visually-hidden"},"Loading...")],-1)]))):(p(),f("form",{key:1,onSubmit:t[8]||(t[8]=S((...o)=>e.saveSettings&&e.saveSettings(...o),["prevent"])),class:"settings-form"},[s("div",N,[t[18]||(t[18]=s("h5",{class:"section-title"},"Business Email Settings",-1)),s("div",B,[s("div",A,[t[10]||(t[10]=s("label",{class:"form-label"},[r("Mail Driver "),s("span",{class:"ms-1","data-bs-toggle":"tooltip",title:"Usually smtp. Ask your email provider if unsure."},[s("i",{class:"fas fa-info-circle text-secondary"})])],-1)),i(s("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>e.form.driver=o),type:"text",class:"form-control",placeholder:"e.g. smtp"},null,512),[[n,e.form.driver]])]),s("div",F,[t[11]||(t[11]=s("label",{class:"form-label"},[r("Mail Host "),s("span",{class:"ms-1","data-bs-toggle":"tooltip",title:"The mail server address, e.g. smtp.yourdomain.com"},[s("i",{class:"fas fa-info-circle text-secondary"})])],-1)),i(s("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>e.form.host=o),type:"text",class:"form-control",placeholder:"e.g. netopz.com"},null,512),[[n,e.form.host]])]),s("div",L,[t[12]||(t[12]=s("label",{class:"form-label"},[r("Mail Port "),s("span",{class:"ms-1","data-bs-toggle":"tooltip",title:"Usually 465 (SSL), 587 (TLS), or 25. Ask your provider."},[s("i",{class:"fas fa-info-circle text-secondary"})])],-1)),i(s("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>e.form.port=o),type:"text",class:"form-control",placeholder:"e.g. 465"},null,512),[[n,e.form.port]])]),s("div",z,[t[13]||(t[13]=s("label",{class:"form-label"},[r("Mail Username "),s("span",{class:"ms-1","data-bs-toggle":"tooltip",title:"The email address or username for your mail account."},[s("i",{class:"fas fa-info-circle text-secondary"})])],-1)),i(s("input",{"onUpdate:modelValue":t[3]||(t[3]=o=>e.form.username=o),type:"text",class:"form-control",placeholder:"e.g. info@netopz.com"},null,512),[[n,e.form.username]])]),s("div",C,[t[14]||(t[14]=s("label",{class:"form-label"},[r("Mail Password "),s("span",{class:"ms-1","data-bs-toggle":"tooltip",title:"The password for your mail account. Keep it secure."},[s("i",{class:"fas fa-info-circle text-secondary"})])],-1)),i(s("input",{"onUpdate:modelValue":t[4]||(t[4]=o=>e.form.password=o),type:"text",class:"form-control",placeholder:"Your mail password"},null,512),[[n,e.form.password]])]),s("div",D,[t[15]||(t[15]=s("label",{class:"form-label"},[r("Mail Encryption "),s("span",{class:"ms-1","data-bs-toggle":"tooltip",title:"Usually ssl or tls. Ask your provider if unsure."},[s("i",{class:"fas fa-info-circle text-secondary"})])],-1)),i(s("input",{"onUpdate:modelValue":t[5]||(t[5]=o=>e.form.encryption=o),type:"text",class:"form-control",placeholder:"e.g. ssl"},null,512),[[n,e.form.encryption]])]),s("div",j,[t[16]||(t[16]=s("label",{class:"form-label"},[r("Mail From Name "),s("span",{class:"ms-1","data-bs-toggle":"tooltip",title:"The name that will appear as the sender in outgoing emails."},[s("i",{class:"fas fa-info-circle text-secondary"})])],-1)),i(s("input",{"onUpdate:modelValue":t[6]||(t[6]=o=>e.form.from_name=o),type:"text",class:"form-control",placeholder:"e.g. Your Restaurant Name"},null,512),[[n,e.form.from_name]])]),s("div",P,[s("label",Y,[r(w(m.$t("business-mail"))+" ",1),t[17]||(t[17]=s("span",{class:"ms-1","data-bs-toggle":"tooltip",title:"The email address that will appear as sender/receiver."},[s("i",{class:"fas fa-info-circle text-secondary"})],-1))]),i(s("input",{"onUpdate:modelValue":t[7]||(t[7]=o=>e.form.email=o),type:"email",class:"form-control",placeholder:"e.g. info@netopz.com"},null,512),[[n,e.form.email]])])])]),s("div",q,[s("button",{type:"submit",class:"btn btn-primary",disabled:e.saving},[e.saving?(p(),f("span",I)):E("",!0),t[19]||(t[19]=r(" Save Settings "))],8,H)])],32))])])])}const G=x(T,[["render",K],["__scopeId","data-v-66eb6ce8"]]);export{G as default};
//# sourceMappingURL=EmailSettings-C8z0Uzji.js.map
