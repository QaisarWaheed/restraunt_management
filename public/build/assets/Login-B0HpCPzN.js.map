{"version":3,"file":"Login-B0HpCPzN.js","sources":["../../../resources/js/views/auth/Login.vue"],"sourcesContent":["<template>\n  <div class=\"login-page\">\n    <div class=\"container\">\n      <div class=\"row justify-content-center\">\n        <div class=\"col-md-6 col-lg-4\">\n          <div class=\"card shadow-sm\">\n            <div class=\"card-body p-4\">\n              <div class=\"text-center mb-4\">\n                <img src=\"/images/logo.png\" alt=\"Logo\" class=\"logo mb-3\">\n                <h4 class=\"card-title\">Super User Login</h4>\n                <p class=\"text-muted\">Enter your credentials to access the dashboard</p>\n              </div>\n\n              <form @submit.prevent=\"handleLogin\">\n                <div class=\"mb-3\">\n                  <label for=\"email\" class=\"form-label\">Email address</label>\n                  <input \n                    type=\"email\" \n                    class=\"form-control\" \n                    id=\"email\" \n                    v-model=\"form.email\"\n                    :class=\"{ 'is-invalid': errors.email }\"\n                    required\n                  >\n                  <div class=\"invalid-feedback\" v-if=\"errors.email\">\n                    {{ errors.email[0] }}\n                  </div>\n                </div>\n\n                <div class=\"mb-3\">\n                  <label for=\"password\" class=\"form-label\">Password</label>\n                  <input \n                    type=\"password\" \n                    class=\"form-control\" \n                    id=\"password\" \n                    v-model=\"form.password\"\n                    :class=\"{ 'is-invalid': errors.password }\"\n                    required\n                  >\n                  <div class=\"invalid-feedback\" v-if=\"errors.password\">\n                    {{ errors.password[0] }}\n                  </div>\n                </div>\n\n                <div class=\"d-grid\">\n                  <button \n                    type=\"submit\" \n                    class=\"btn btn-primary\"\n                    :disabled=\"loading\"\n                  >\n                    <span v-if=\"loading\" class=\"spinner-border spinner-border-sm me-1\"></span>\n                    {{ loading ? 'Logging in...' : 'Login' }}\n                  </button>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, reactive } from 'vue'\nimport { useRouter } from 'vue-router'\nimport axios from 'axios'\nimport Swal from 'sweetalert2'\n\nexport default {\n  name: 'Login',\n  setup() {\n    const router = useRouter()\n    const loading = ref(false)\n    const errors = ref({})\n    const form = reactive({\n      email: '',\n      password: ''\n    })\n\n    const handleLogin = async () => {\n      loading.value = true\n      errors.value = {}\n\n      try {\n        const response = await axios.post('/login', form)\n        \n        if (response.data.success) {\n          // Store the token and user data\n          localStorage.setItem('token', response.data.token)\n          localStorage.setItem('user', JSON.stringify({\n            ...response.data.user,\n            roles: response.data.user.roles\n          }))\n          \n          // Set axios default authorization header\n          axios.defaults.headers.common['Authorization'] = `Bearer ${response.data.token}`\n          \n          // Show success message\n          await Swal.fire({\n            icon: 'success',\n            title: 'Login Successful',\n            text: 'Welcome back!',\n            timer: 1500,\n            showConfirmButton: false,\n            position: 'top-end',\n            toast: true\n          })\n          \n          // Redirect to dashboard\n          router.push('/dashboard')\n        } else {\n          errors.value = {\n            email: [response.data.message || 'Login failed']\n          }\n        }\n      } catch (error) {\n        console.error('Login error:', error)\n        if (error.response?.data?.message) {\n          Swal.fire({\n            icon: 'error',\n            title: 'Login Failed',\n            text: error.response.data.message,\n            confirmButtonColor: '#dc3545'\n          })\n        } else {\n          Swal.fire({\n            icon: 'error',\n            title: 'Login Failed',\n            text: 'Invalid credentials',\n            confirmButtonColor: '#dc3545'\n          })\n        }\n      } finally {\n        loading.value = false\n      }\n    }\n\n    return {\n      form,\n      errors,\n      loading,\n      handleLogin\n    }\n  }\n}\n</script>\n\n<style scoped>\n.login-page {\n  min-height: 100vh;\n  display: flex;\n  align-items: center;\n  background-color: #f8f9fa;\n}\n\n.logo {\n  max-width: 150px;\n  height: auto;\n}\n\n.card {\n  border: none;\n  border-radius: 10px;\n}\n\n.card-title {\n  color: #343a40;\n  font-weight: 600;\n}\n\n.form-label {\n  font-weight: 500;\n  color: #495057;\n}\n\n.btn-primary {\n  padding: 0.75rem;\n  font-weight: 500;\n}\n\n.invalid-feedback {\n  font-size: 0.875rem;\n}\n</style> "],"names":["_sfc_main","router","useRouter","loading","ref","errors","form","reactive","response","axios","Swal","error","_b","_a","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_9","_hoisted_11","_hoisted_12","_openBlock","_createElementBlock","_createElementVNode","_cache","_withModifiers","$setup","args","_normalizeClass","$event","_vModelText","_hoisted_8","_toDisplayString","_createCommentVNode","_hoisted_10","_hoisted_13","_createTextVNode"],"mappings":"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"}