{"version":3,"file":"Login-DCrJQlF1.js","sources":["../../../resources/js/views/tenant/Login.vue"],"sourcesContent":["<template>\n  <div class=\"mt-5 login-page d-flex align-items-center justify-content-center min-vh-100 bg-light\">\n    <div class=\"login-card d-flex flex-row shadow  overflow-hidden bg-white\">\n      <!-- Left: Image -->\n      <div class=\"login-image d-none d-md-block\">\n        <img src=\"/Mox_files/login.jpg\" alt=\"Login Food\" class=\"img-fluid h-100 w-100\" style=\"object-fit: cover; min-width: 320px; min-height: 350px;\" />\n      </div>\n      <!-- Right: Form -->\n      <div class=\"login-form login-card-inner p-4 p-md-5 d-flex flex-column justify-content-center\">\n        <h2 class=\"text-center mb-2 login-title\">{{ $t('auth.login.title') }}</h2>\n      <!--  <div class=\"text-center mb-3 login-subtext\">Don't have an account? <a href=\"#\" class=\"login-link\">Sign up now!</a></div> -->\n      <div class=\"text-center mb-3 login-subtext\">{{ $t('welcomeBack') || 'Welcome!' }}</div>\n        <form @submit.prevent=\"handleLogin\">\n          <div class=\"mb-3\">\n            <div class=\"input-group\">\n              <span class=\"input-group-text bg-white\"><i class=\"material-icons text-muted\">person</i></span>\n              <input type=\"text\" class=\"form-control\" :placeholder=\"$t('auth.login.email')\" v-model=\"username\" required />\n            </div>\n          </div>\n          <div class=\"mb-3\">\n            <div class=\"input-group\">\n              <span class=\"input-group-text bg-white\"><i class=\"material-icons text-muted\">lock</i></span>\n              <input :type=\"showPassword ? 'text' : 'password'\" class=\"form-control\" :placeholder=\"$t('auth.login.password')\" v-model=\"password\" required />\n              <span class=\"input-group-text bg-white\" style=\"cursor:pointer;\" @click=\"showPassword = !showPassword\">\n                <i class=\"material-icons text-muted\">{{ showPassword ? 'visibility_off' : 'visibility' }}</i>\n              </span>\n            </div>\n          </div>\n          <div class=\"d-flex align-items-center mb-3\">\n            <input type=\"checkbox\" id=\"keepSignedIn\" v-model=\"keepSignedIn\" class=\"form-check-input me-2\" />\n            <label for=\"keepSignedIn\" class=\"form-check-label small\">{{ $t('auth.login.remember') }}</label>\n          </div>\n          <button type=\"submit\" class=\"btn btn-success w-100 fw-bold mb-3 login-btn\">{{ $t('auth.login.submit') }}</button>\n        </form>\n        <!-- <div class=\"d-flex align-items-center my-3\">\n          <hr class=\"flex-grow-1\" />\n          <span class=\"mx-2 login-or\">or Sign in with one click</span>\n          <hr class=\"flex-grow-1\" />\n        </div>\n        <div class=\"d-flex justify-content-center gap-3 mb-3\">\n          <button class=\"btn btn-light shadow-sm rounded-circle p-2 login-social\"><i class=\"fab fa-facebook-f text-danger\"></i></button>\n          <button class=\"btn btn-light shadow-sm rounded-circle p-2 login-social\"><i class=\"fab fa-twitter text-danger\"></i></button>\n          <button class=\"btn btn-light shadow-sm rounded-circle p-2 login-social\"><i class=\"fab fa-google text-danger\"></i></button>\n        </div> -->\n        <div class=\"text-end mt-2\">\n          <a href=\"#\" class=\"login-reset\"><i class=\"material-icons align-middle\" style=\"font-size: 1.1em;\">key</i> {{ $t('auth.login.forgot') }}</a>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref } from 'vue'\nimport { useRouter } from 'vue-router'\nimport axios from 'axios'\nimport Swal from 'sweetalert2'\n\nconst username = ref('')\nconst password = ref('')\nconst showPassword = ref(false)\nconst keepSignedIn = ref(false)\nconst router = useRouter()\nconst loading = ref(false)\nconst error = ref('')\n\nasync function handleLogin() {\n  error.value = ''\n  loading.value = true\n  try {\n\n\n    const response = await axios.post('/tenant/login', {\n      email: username.value,\n      password: password.value,\n    })\n    const token = response.data.token\n    localStorage.setItem('token', token)\n    axios.defaults.headers.common['Authorization'] = `Bearer ${token}`\n\n    // Set axios default authorization header\n    // axios.defaults.headers.common['Authorization'] = `Bearer ${response.data.token}`\n\n    await Swal.fire({\n      icon: 'success',\n      title: 'Login Successful',\n      text: 'Welcome back!',\n      timer: 1500,\n      showConfirmButton: false,\n      position: 'top-end',\n      toast: true\n    })\n    router.push('/dashboard/home')\n  } catch (err) {\n    error.value = err.response?.data?.message || 'Login failed. Please check your credentials.'\n    Swal.fire({\n      icon: 'error',\n      title: 'Login Failed',\n      text: error.value,\n      confirmButtonColor: '#dc3545'\n    })\n  } finally {\n    loading.value = false\n  }\n}\n</script>\n\n<style scoped>\n.login-page {\n  background: #f8f9fa;\n}\n.login-card {\n  min-width: 1000px;\n  max-width: 900px;\n  min-height: 350px;\n  background: #fff;\n}\n.login-image {\n  width: 500px;\n  min-height: 350px;\n  background: #eee;\n}\n.login-form {\n  flex: 1 1 0%;\n  background: #fff;\n  border: 1px solid #eee;\n  border-radius: 12px;\n  box-shadow: 0 2px 8px rgba(0,0,0,0.07);\n  min-width: 500px;\n  max-width: 500px;\n  align-items: center;\n}\n.input-group-text {\n  background: #fff;\n  border-right: 0;\n  border-radius: 6px 0 0 6px;\n}\n.form-control {\n  border-left: 0;\n  border-radius: 0 6px 6px 0;\n  box-shadow: none;\n}\n.btn-success {\n  background: #388e3c;\n  border: none;\n}\n.btn-success:hover {\n  background: #2e7031;\n  border: none;\n}\n.btn-light {\n  background: #fff;\n  border: 1px solid #eee;\n}\n.btn-light:hover {\n  background: #f5f5f5;\n}\n@media (max-width: 991.98px) {\n  .login-card {\n    flex-direction: column;\n    min-width: 320px;\n    max-width: 95vw;\n  }\n  .login-image {\n    width: 100%;\n    min-height: 180px;\n    max-height: 220px;\n  }\n}\n/* Login Card Inner Styling */\n.login-card-inner {\n  background: #fff;\n  border: 1px solid #e0e0e0;\n  border-radius: 8px;\n  box-shadow: 0 2px 12px rgba(0,0,0,0.07);\n  min-width: 500px;\n  max-width: 500px;\n  margin: 0 auto;\n}\n.login-title {\n  font-family: 'Playfair Display', serif;\n  font-weight: bold;\n  color: #222;\n  font-size: 2rem;\n}\n.login-subtext {\n  color: #388e3c;\n  font-size: 1rem;\n}\n.login-link {\n  color: #388e3c;\n  text-decoration: none;\n  font-weight: 500;\n}\n.login-link:hover {\n  text-decoration: underline;\n}\n.login-btn {\n  background: #43a047;\n  border-color: #43a047;\n  border-radius: 4px;\n  font-weight: 600;\n  font-size: 1.05rem;\n}\n.login-btn:hover {\n  background: #388e3c;\n  border-color: #388e3c;\n}\n.login-or {\n  color: #888;\n  font-size: 0.97rem;\n}\n.login-social {\n  background: #fff;\n  border: 1px solid #eee;\n  transition: box-shadow 0.2s;\n}\n.login-social:hover {\n  box-shadow: 0 2px 8px rgba(67,160,71,0.12);\n}\n.login-reset {\n  color: #444;\n  font-size: 0.97rem;\n  text-decoration: none;\n  transition: color 0.2s;\n}\n.login-reset:hover {\n  color: #43a047;\n  text-decoration: underline;\n}\n</style>\n"],"names":["username","ref","password","showPassword","keepSignedIn","router","useRouter","loading","error","handleLogin","token","axios","Swal","err","_b","_a"],"mappings":"w4BA0DA,MAAMA,EAAWC,EAAI,EAAE,EACjBC,EAAWD,EAAI,EAAE,EACjBE,EAAeF,EAAI,EAAK,EACxBG,EAAeH,EAAI,EAAK,EACxBI,EAASC,EAAS,EAClBC,EAAUN,EAAI,EAAK,EACnBO,EAAQP,EAAI,EAAE,EAEpB,eAAeQ,GAAc,SAC3BD,EAAM,MAAQ,GACdD,EAAQ,MAAQ,GAChB,GAAI,CAOF,MAAMG,GAJW,MAAMC,EAAM,KAAK,gBAAiB,CACjD,MAAOX,EAAS,MAChB,SAAUE,EAAS,KACpB,CAAA,GACsB,KAAK,MAC5B,aAAa,QAAQ,QAASQ,CAAK,EACnCC,EAAM,SAAS,QAAQ,OAAO,cAAmB,UAAUD,CAAK,GAKhE,MAAME,EAAK,KAAK,CACd,KAAM,UACN,MAAO,mBACP,KAAM,gBACN,MAAO,KACP,kBAAmB,GACnB,SAAU,UACV,MAAO,EACR,CAAA,EACDP,EAAO,KAAK,iBAAiB,CAC9B,OAAQQ,EAAK,CACZL,EAAM,QAAQM,GAAAC,EAAAF,EAAI,WAAJ,YAAAE,EAAc,OAAd,YAAAD,EAAoB,UAAW,+CAC7CF,EAAK,KAAK,CACR,KAAM,QACN,MAAO,eACP,KAAMJ,EAAM,MACZ,mBAAoB,SACrB,CAAA,CACL,QAAY,CACRD,EAAQ,MAAQ,EACpB,CACA"}