{"version":3,"file":"EmailSettings-C8z0Uzji.js","sources":["../../../resources/js/views/tenant_dashboard/EmailSettings.vue"],"sourcesContent":["<template>\n  <div class=\"settings-page\">\n    <div class=\"d-flex justify-content-between align-items-center mb-4\">\n      <h4 class=\"mb-0\">Setup Email Settings</h4>\n    </div>\n\n    <div class=\"card\">\n      <div class=\"\">\n        <div v-if=\"loading\" class=\"text-center py-5\">\n          <div class=\"spinner-border text-primary\" role=\"status\">\n            <span class=\"visually-hidden\">Loading...</span>\n          </div>\n        </div>\n        <form v-else @submit.prevent=\"saveSettings\" class=\"settings-form\">\n          <!-- Basic Information -->\n          <div class=\"section mb-4\">\n            <h5 class=\"section-title\">Business Email Settings</h5>\n              <div class=\"row g-3\">\n                <div class=\"col-md-6\">\n                  <label class=\"form-label\">Mail Driver\n                    <span class=\"ms-1\" data-bs-toggle=\"tooltip\" title=\"Usually smtp. Ask your email provider if unsure.\">\n                      <i class=\"fas fa-info-circle text-secondary\"></i>\n                    </span>\n                  </label>\n                  <input v-model=\"form.driver\" type=\"text\" class=\"form-control\"  placeholder=\"e.g. smtp\">\n                </div>\n                <div class=\"col-md-6\">\n                  <label class=\"form-label\">Mail Host\n                    <span class=\"ms-1\" data-bs-toggle=\"tooltip\" title=\"The mail server address, e.g. smtp.yourdomain.com\">\n                      <i class=\"fas fa-info-circle text-secondary\"></i>\n                    </span>\n                  </label>\n                  <input v-model=\"form.host\" type=\"text\" class=\"form-control\"  placeholder=\"e.g. netopz.com\">\n                </div>\n                <div class=\"col-md-6\">\n                  <label class=\"form-label\">Mail Port\n                    <span class=\"ms-1\" data-bs-toggle=\"tooltip\" title=\"Usually 465 (SSL), 587 (TLS), or 25. Ask your provider.\">\n                      <i class=\"fas fa-info-circle text-secondary\"></i>\n                    </span>\n                  </label>\n                  <input v-model=\"form.port\" type=\"text\" class=\"form-control\"  placeholder=\"e.g. 465\">\n                </div>\n                <div class=\"col-md-6\">\n                  <label class=\"form-label\">Mail Username\n                    <span class=\"ms-1\" data-bs-toggle=\"tooltip\" title=\"The email address or username for your mail account.\">\n                      <i class=\"fas fa-info-circle text-secondary\"></i>\n                    </span>\n                  </label>\n                  <input v-model=\"form.username\" type=\"text\" class=\"form-control\"  placeholder=\"e.g. info@netopz.com\">\n                </div>\n                <div class=\"col-md-6\">\n                  <label class=\"form-label\">Mail Password\n                    <span class=\"ms-1\" data-bs-toggle=\"tooltip\" title=\"The password for your mail account. Keep it secure.\">\n                      <i class=\"fas fa-info-circle text-secondary\"></i>\n                    </span>\n                  </label>\n                  <input v-model=\"form.password\" type=\"text\" class=\"form-control\"  placeholder=\"Your mail password\">\n                </div>\n                <div class=\"col-md-6\">\n                  <label class=\"form-label\">Mail Encryption\n                    <span class=\"ms-1\" data-bs-toggle=\"tooltip\" title=\"Usually ssl or tls. Ask your provider if unsure.\">\n                      <i class=\"fas fa-info-circle text-secondary\"></i>\n                    </span>\n                  </label>\n                  <input v-model=\"form.encryption\" type=\"text\" class=\"form-control\"  placeholder=\"e.g. ssl\">\n                </div>\n                <div class=\"col-md-6\">\n                  <label class=\"form-label\">Mail From Name\n                    <span class=\"ms-1\" data-bs-toggle=\"tooltip\" title=\"The name that will appear as the sender in outgoing emails.\">\n                      <i class=\"fas fa-info-circle text-secondary\"></i>\n                    </span>\n                  </label>\n                  <input v-model=\"form.from_name\" type=\"text\" class=\"form-control\"  placeholder=\"e.g. Your Restaurant Name\">\n                </div>\n                <div class=\"col-md-6\">\n                  <label class=\"form-label\">{{$t('business-mail')}}\n                    <span class=\"ms-1\" data-bs-toggle=\"tooltip\" title=\"The email address that will appear as sender/receiver.\">\n                      <i class=\"fas fa-info-circle text-secondary\"></i>\n                    </span>\n                  </label>\n                  <input v-model=\"form.email\" type=\"email\" class=\"form-control\"  placeholder=\"e.g. info@netopz.com\">\n                </div>\n              </div>\n          </div>\n\n\n          <div class=\"text-end\">\n            <button type=\"submit\" class=\"btn btn-primary\" :disabled=\"saving\">\n              <span v-if=\"saving\" class=\"spinner-border spinner-border-sm me-2\" role=\"status\"></span>\n              Save Settings\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, onMounted } from 'vue'\nimport axios from 'axios'\nimport Swal from 'sweetalert2'\nimport { Tooltip } from 'bootstrap'\n\nexport default {\n  name: 'Settings',\n  setup() {\n    const loading = ref(true)\n    const saving = ref(false)\n    let tooltips = []\n    const form = ref({\n        driver: '',\n        host: '',\n        port: '',\n        username: '',\n        password: '',\n        encryption: '',\n        email: '',\n        from_name: ''\n    })\n\n\n    // Initialize tooltips\n    const initTooltips = () => {\n      // Dispose existing tooltips\n      tooltips.forEach(tooltip => tooltip.dispose())\n      tooltips = []\n      \n      // Initialize new tooltips\n      document.querySelectorAll('[data-bs-toggle=\"tooltip\"]').forEach(el => {\n        tooltips.push(new Tooltip(el))\n      })\n    }\n    const fetchSettings = async () => {\n        try {\n          const response = await axios.get('/tenant/email-setting')\n          if (response.data.success && response.data.data) {\n            const settings = response.data.data\n            form.value = {\n              driver: settings.driver || '',\n              port: settings.port || '',\n              host: settings.host || '',\n              username: settings.username || '',\n              password: settings.password || '',\n              email: settings.email || '',\n              encryption: settings.encryption || '',\n              from_name: settings.from_name || ''\n            }\n          }\n        } catch (error) {\n          console.error('Error fetching Email Setting:', error)\n          Swal.fire({\n            icon: 'error',\n            title: 'Error',\n            text: 'Failed to fetch Email Setting'\n          })\n        } finally {\n          loading.value = false\n        }\n      }\n  \n      const saveSettings = async () => {\n        saving.value = true\n        try {\n          const response = await axios.put('/tenant/email-setting', form.value)\n          if (response.data.success) {\n            Swal.fire({\n              icon: 'success',\n              title: 'Success',\n              text: 'Email Setup updated successfully',\n              toast: true,\n              position: 'top-end',\n              showConfirmButton: false,\n              timer: 3000\n            })\n          } else {\n            throw new Error(response.data.message || 'Failed to save Email Setting')\n          }\n        } catch (error) {\n          console.error('Error saving Email Setting:', error)\n          Swal.fire({\n            icon: 'error',\n            title: 'Error',\n            text: error.response?.data?.message || 'Failed to save Email Setting'\n          })\n        } finally {\n          saving.value = false\n        }\n      }\n\n    onMounted(() => {\n      fetchSettings()\n      initTooltips()\n      // document.querySelectorAll('[data-bs-toggle=\"tooltip\"]').forEach(el => {\n      //   new Tooltip(el)\n      // })\n    })\n\n    return {\n      form,\n      loading,\n      saving,\n      saveSettings\n    }\n  }\n}\n</script>\n\n<style scoped>\n.settings-page {\n  padding: 20px;\n  font-family: 'Inter', 'Roboto', 'Segoe UI', Arial, sans-serif;\n}\n\n.section {\n  background: #fff;\n  border-radius: 8px;\n  padding: 1.5rem;\n  box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n}\n\n.section-title {\n  color: #2c3e50;\n  font-size: 1.1rem;\n  font-weight: 600;\n  margin-bottom: 1.5rem;\n  padding-bottom: 0.5rem;\n  border-bottom: 2px solid #f0f0f0;\n}\n\n.form-label {\n  font-weight: 500;\n  color: #4a5568;\n  margin-bottom: 0.5rem;\n}\n\n.form-control, .form-select {\n  border: 1px solid #e2e8f0;\n  border-radius: 6px;\n  padding: 0.5rem 0.75rem;\n  font-size: 0.95rem;\n}\n\n.form-control:focus, .form-select:focus {\n  border-color: #4299e1;\n  box-shadow: 0 0 0 3px rgba(66, 153, 225, 0.1);\n}\n\n.btn-primary {\n  background: #4299e1;\n  border: none;\n  padding: 0.6rem 1.5rem;\n  font-weight: 500;\n  border-radius: 6px;\n  transition: all 0.2s;\n}\n\n.btn-primary:hover {\n  background: #3182ce;\n  transform: translateY(-1px);\n}\n\n.btn-primary:disabled {\n  background: #a0aec0;\n  cursor: not-allowed;\n  transform: none;\n}\n\n.form-check-input:checked {\n  background-color: #4299e1;\n  border-color: #4299e1;\n}\n\n.logo-preview {\n  width: 100px;\n  height: 100px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: #f8fafc;\n  border-radius: 6px;\n  overflow: hidden;\n}\n\n.logo-preview img {\n  max-width: 100%;\n  max-height: 100%;\n  object-fit: contain;\n}\n</style>"],"names":["_sfc_main","loading","ref","saving","tooltips","form","initTooltips","tooltip","el","Tooltip","fetchSettings","response","axios","settings","error","Swal","saveSettings","_b","_a","onMounted","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_openBlock","_createElementBlock","_createElementVNode","$setup","_hoisted_4","_cache","_withModifiers","args","_createTextVNode","$event","_vModelText","_toDisplayString","_ctx","_hoisted_18","_createCommentVNode"],"mappings":"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"}