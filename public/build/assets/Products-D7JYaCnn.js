import{_ as bt,c as d,a as t,f as r,j as c,v as p,n as q,J as T,F as z,g as H,b as C,e as gt,w as ft,r as pt,t as n,i as Z,O as vt,L as u,z as $,B as yt,C as kt,N as _,S as w,P as j,o as i}from"./app-BLvk--SP.js";import{d as _t}from"./vuedraggable.umd-BKuQl9O6.js";const Ct={name:"Products",components:{draggable:_t},setup(){const b=u([]),e=u([]),D=u([]),l=u(!1),J=u({search:"",category_id:"",status:""}),V=u(!1),g=u({id:null,name:"",description:"",category_id:"",price:"",cost_price:"",stock_quantity:"",min_stock_level:"",status:"active",is_active:!0,is_featured:!1,sku:"",barcode:"",image:null,imagePreview:null}),F=u(null),A=u({name:"",description:"",is_active:!0});let h=null,N=null,B=null,M=null;const v=u({current_page:1,last_page:1,per_page:5,total:0,from:0,to:0}),P=[{key:"name",label:"Name"},{key:"category",label:"Category"},{key:"price",label:"Price"},{key:"stock_quantity",label:"Stock Quantity"},{key:"min_stock_level",label:"Min Stock Level"},{key:"sku",label:"SKU"},{key:"barcode",label:"Barcode"},{key:"cost_price",label:"Cost Price"},{key:"is_active",label:"Active"},{key:"is_featured",label:"Featured"},{key:"sort_order",label:"Sort Order"},{key:"created_at",label:"Created At"}],E="products_selected_columns_v1",x=u(["name","category","price","stock_quantity"]),I=u(P.filter(s=>x.value.includes(s.key))),K=u(!1),U=u([...x.value]),L=u(!1),Q=u(null);$(U,()=>{L.value=U.value.length===P.length});const y=async(s=1)=>{l.value=!0;try{const a={page:s,per_page:v.value.per_page,...J.value},{data:f}=await _.get("/tenant/products",{params:a}),m=f.data;b.value=m.data||[],v.value={current_page:m.current_page,last_page:m.last_page,per_page:m.per_page,total:m.total,from:m.from,to:m.to}}catch{b.value=[],v.value={current_page:1,last_page:1,per_page:5,total:0,from:0,to:0}}l.value=!1},Y=async()=>{try{const{data:s}=await _.get("/tenant/categories");D.value=s.data.data||[]}catch{D.value=[]}},o=async()=>{try{const{data:s}=await _.get("/tenant/products",{params:{only_deleted:!0}});e.value=s.data.data||[]}catch{e.value=[]}},k=()=>{y(1)},S=()=>{V.value=!1,Object.assign(g.value,{id:null,name:"",description:"",category_id:"",price:"",cost_price:"",stock_quantity:"",min_stock_level:"",status:"active",is_active:!0,is_featured:!1,sku:"",barcode:"",image:null,imagePreview:null}),h=new j(document.getElementById("ProductModal")),h.show()},G=s=>s?`/storage/${s.replace(/^public[\\/]/,"")}`:null,tt=s=>{V.value=!0,Object.assign(g.value,{id:s.id,name:s.name,description:s.description,category_id:s.category_id,price:s.price,cost_price:s.cost_price,stock_quantity:s.stock_quantity,min_stock_level:s.min_stock_level,status:s.status,is_active:s.is_active,is_featured:s.is_featured,sku:s.sku,barcode:s.barcode,image:null,imagePreview:s.image?G(s.image):null}),h=new j(document.getElementById("ProductModal")),h.show()},et=async()=>{const s=new FormData;for(const a in g.value)a!=="imagePreview"&&g.value[a]!==null&&g.value[a]!==void 0&&s.append(a,g.value[a]);try{V.value?(await _.post(`/tenant/products/${g.value.id}?_method=PUT`,s),w.fire({icon:"success",title:"Product updated"})):(await _.post("/tenant/products",s),w.fire({icon:"success",title:"Product created"})),y(),h.hide()}catch{w.fire({icon:"error",title:"Error",text:"Failed to save product"})}},ot=s=>{w.fire({title:"Are you sure?",text:"This will move the product to deleted list.",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!"}).then(async a=>{a.isConfirmed&&(await _.delete(`/tenant/products/${s.id}`),y())})},lt=s=>{w.fire({title:"Are you sure?",text:"This will permanently delete the product.",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete permanently!"}).then(async a=>{a.isConfirmed&&(await _.post(`/tenant/products/${s.id}/force-delete`),o())})},st=async s=>{await _.post(`/tenant/products/${s.id}/restore`),y(),o()},nt=s=>{F.value=s,N=new j(document.getElementById("viewProductModal")),N.show()},at=()=>{o(),B=new j(document.getElementById("deletedProductsModal")),B.show()},dt=async()=>{try{const s=b.value.map((a,f)=>({id:a.id,sort_order:f}));await _.post("/tenant/products/reorder",{order:s}),await y(),w.fire({icon:"success",title:"Order updated"})}catch{w.fire({icon:"error",title:"Error",text:"Failed to update order"})}},it=s=>{const a=s.target.files[0];a&&(g.value.image=a,g.value.imagePreview=URL.createObjectURL(a))},rt=()=>{A.value={name:"",description:"",is_active:!0},M=new j(document.getElementById("QuickCategoryModal")),M.show()},ct=async()=>{try{const{data:s}=await _.post("/tenant/categories",A.value);D.value.push(s.data),g.value.category_id=s.data.id,M.hide(),w.fire({icon:"success",title:"Category added"})}catch{w.fire({icon:"error",title:"Error",text:"Failed to add category"})}},ut=s=>{s<1||s>v.value.last_page||y(s)},mt=yt(()=>{const s=v.value.last_page,a=v.value.current_page,f=5;let m=Math.max(1,a-2),O=Math.min(s,a+2);O-m<f-1&&(m===1?O=Math.min(s,m+f-1):O===s&&(m=Math.max(1,O-f+1)));const X=[];for(let W=m;W<=O;W++)X.push(W);return X});return kt(()=>{y(),Y();const s=localStorage.getItem(E);if(s)try{const a=JSON.parse(s);Array.isArray(a)&&a.every(f=>P.some(m=>m.key===f))&&(x.value=a,I.value=P.filter(f=>x.value.includes(f.key)))}catch{}}),$(x,s=>{localStorage.setItem(E,JSON.stringify(s))}),{products:b,deletedProducts:e,categoriesList:D,filters:J,loading:l,isEditing:V,form:g,selectedProduct:F,showCreateModal:S,editProduct:tt,saveProduct:et,confirmDelete:ot,confirmHardDelete:lt,restoreProduct:st,viewProduct:nt,showDeletedModal:at,applyFilters:k,onSortEnd:dt,onImageChange:it,getImageUrl:G,quickCategoryForm:A,showQuickCategoryModal:rt,quickAddCategory:ct,showColumnDropdown:K,dropdownBtn:Q,selectAllChecked:L,tempSelectedColumns:U,visibleColumns:I,allColumns:P,pagination:v,goToPage:ut,paginationWindow:mt}}},wt={class:"Products-page"},ht={class:"d-flex justify-content-between align-items-center mb-4"},Pt={class:"mb-4"},xt={class:"filter-body"},St={class:"row g-3 align-items-end flex-nowrap"},At={class:"col-md-6"},Mt={class:"col-md-6 d-flex align-items-end justify-content-end"},Ut={class:"dropdown column-filter-dropdown ms-auto"},qt={class:"form-check mb-2"},Dt=["id","value"],Vt=["for"],Ft={class:"d-flex justify-content-end gap-2 mt-3"},Nt={class:"card"},Bt={class:"card-body"},Et={key:0,class:"text-center py-5"},It={key:1,class:"text-center py-5 text-muted"},Lt={key:2,class:"table-responsive"},Ot={class:"table table-hover table-sm products-table"},Tt={class:"fw-bold"},jt={class:"small text-muted"},Kt={class:"d-none d-md-table-cell"},Qt={class:"d-none d-md-table-cell"},Yt={class:"d-none d-md-table-cell"},zt={class:"d-none d-md-table-cell"},Ht={class:"d-none d-md-table-cell"},Jt={class:"d-none d-md-table-cell"},Rt={class:"d-none d-md-table-cell"},Wt=["checked"],Gt={class:"d-none d-md-table-cell"},Xt=["checked"],Zt={class:"d-none d-md-table-cell"},$t={class:"d-none d-md-table-cell"},te={class:"d-none d-md-table-cell"},ee={class:"d-none d-md-table-cell"},oe={class:"d-none d-md-table-cell"},le={class:"btn-group"},se=["onClick"],ne=["onClick"],ae=["onClick"],de=["onClick"],ie=["onClick"],re={key:3,class:"d-flex justify-content-between align-items-center mt-3"},ce={class:"text-muted"},ue={key:0},me={class:"pagination mb-0"},be=["disabled"],ge=["onClick"],fe=["disabled"],pe={class:"modal fade",id:"ProductModal",tabindex:"-1"},ve={class:"modal-dialog modal-lg"},ye={class:"modal-content Product-modal-content"},ke={class:"modal-header Product-modal-header"},_e={class:"modal-title Product-modal-title"},Ce={class:"modal-body Product-modal-body"},we={class:"row g-3 mb-3"},he={class:"col-md-6"},Pe={class:"input-group"},xe={class:"col-md-6"},Se={class:"input-group"},Ae=["value"],Me={class:"col-md-6"},Ue={class:"input-group"},qe={class:"col-md-6"},De={class:"input-group"},Ve={class:"col-md-6"},Fe={class:"input-group"},Ne={class:"col-md-6"},Be={class:"input-group"},Ee={class:"col-md-6"},Ie={class:"input-group"},Le={class:"col-md-6"},Oe={class:"input-group"},Te={class:"col-md-6"},je={class:"form-check form-switch mt-2"},Ke={class:"col-md-6"},Qe={class:"form-check form-switch mt-2"},Ye={class:"col-12"},ze={class:"input-group"},He={class:"col-12"},Je={class:"input-group"},Re={key:0,class:"mt-2"},We=["src"],Ge={class:"modal-footer Product-modal-footer"},Xe={type:"submit",class:"btn btn-submit"},Ze={class:"modal fade",id:"viewProductModal",tabindex:"-1"},$e={class:"modal-dialog"},to={class:"modal-content"},eo={class:"modal-body"},oo={class:"Product-details"},lo={key:0},so=["src"],no={key:1},ao={class:"modal fade",id:"deletedProductsModal",tabindex:"-1"},io={class:"modal-dialog modal-lg"},ro={class:"modal-content"},co={class:"modal-body"},uo={key:0,class:"text-center py-4 text-muted"},mo={key:1,class:"table-responsive"},bo={class:"table table-hover table-sm products-table"},go=["onClick"],fo={class:"modal fade",id:"QuickCategoryModal",tabindex:"-1"},po={class:"modal-dialog"},vo={class:"modal-content"},yo={class:"modal-body"},ko={class:"mb-3"},_o={class:"mb-3"},Co={class:"form-check form-switch mb-3"};function wo(b,e,D,l,J,V){var F,A,h,N,B,M,v,P,E,x,I,K,U,L,Q,R,y,Y;const g=pt("draggable");return i(),d("div",wt,[t("div",ht,[t("div",null,[t("button",{class:"btn btn-outline-secondary me-2",onClick:e[0]||(e[0]=(...o)=>l.showDeletedModal&&l.showDeletedModal(...o))},e[31]||(e[31]=[t("i",{class:"fas fa-trash-restore-alt me-1"},null,-1),r(" Deleted Products ")]))]),e[33]||(e[33]=t("h4",{class:"mb-0"},"Manage Products",-1)),t("button",{class:"btn btn-add-Product",onClick:e[1]||(e[1]=(...o)=>l.showCreateModal&&l.showCreateModal(...o))},e[32]||(e[32]=[t("i",{class:"fas fa-plus me-2"},null,-1),r("Add Product ")]))]),t("div",Pt,[t("div",xt,[t("div",St,[t("div",At,[e[34]||(e[34]=t("label",{class:"form-label mb-1"},"Search",-1)),c(t("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>l.filters.search=o),onInput:e[3]||(e[3]=(...o)=>l.applyFilters&&l.applyFilters(...o)),type:"text",class:"form-control filter-input",placeholder:"Search by name, category, SKU, etc."},null,544),[[p,l.filters.search]])]),t("div",Mt,[t("div",Ut,[t("button",{class:"btn btn-outline-secondary dropdown-toggle",type:"button",onClick:e[4]||(e[4]=(...o)=>b.toggleColumnDropdown&&b.toggleColumnDropdown(...o)),ref:"dropdownBtn"},e[35]||(e[35]=[t("i",{class:"fas fa-filter me-1"},null,-1),r(" Columns ")]),512),t("div",{class:q(["dropdown-menu p-3",{show:l.showColumnDropdown}]),style:{"min-width":"260px","max-height":"320px","overflow-y":"auto"}},[t("div",qt,[c(t("input",{class:"form-check-input",type:"checkbox",id:"selectAllCols","onUpdate:modelValue":e[5]||(e[5]=o=>l.selectAllChecked=o),onChange:e[6]||(e[6]=(...o)=>b.toggleSelectAll&&b.toggleSelectAll(...o))},null,544),[[T,l.selectAllChecked]]),e[36]||(e[36]=t("label",{class:"form-check-label",for:"selectAllCols"},"(Select All)",-1))]),(i(!0),d(z,null,H(l.allColumns,o=>(i(),d("div",{key:o.key,class:"form-check mb-1"},[c(t("input",{class:"form-check-input",type:"checkbox",id:"col-"+o.key,"onUpdate:modelValue":e[7]||(e[7]=k=>l.tempSelectedColumns=k),value:o.key},null,8,Dt),[[T,l.tempSelectedColumns]]),t("label",{class:"form-check-label",for:"col-"+o.key},n(o.label),9,Vt)]))),128)),t("div",Ft,[t("button",{class:"btn btn-sm btn-primary",onClick:e[8]||(e[8]=(...o)=>b.applyColumnSelection&&b.applyColumnSelection(...o))},"OK"),t("button",{class:"btn btn-sm btn-secondary",onClick:e[9]||(e[9]=(...o)=>b.cancelColumnSelection&&b.cancelColumnSelection(...o))},"Cancel")])],2)])])])])]),t("div",Nt,[t("div",Bt,[l.loading?(i(),d("div",Et,e[37]||(e[37]=[t("div",{class:"spinner-border text-danger",role:"status"},[t("span",{class:"visually-hidden"},"Loading...")],-1)]))):l.products.length===0?(i(),d("div",It,e[38]||(e[38]=[t("i",{class:"fas fa-box-open fa-3x mb-3",style:{color:"#bdbdbd"}},null,-1),t("div",{class:"h5 mb-2"},"No Products Found",-1),t("div",null,[r("No products match your search criteria."),t("br"),r("Try adjusting your filters.")],-1)]))):(i(),d("div",Lt,[t("table",Ot,[e[45]||(e[45]=t("thead",null,[t("tr",null,[t("th",{style:{width:"32px"}}),t("th",null,"Name"),t("th",{class:"d-none d-md-table-cell"},"Category"),t("th",{class:"d-none d-md-table-cell"},"Price"),t("th",{class:"d-none d-md-table-cell"},"Cost"),t("th",{class:"d-none d-md-table-cell"},"Stock"),t("th",{class:"d-none d-md-table-cell"},"Min Stock"),t("th",{class:"d-none d-md-table-cell"},"Status"),t("th",{class:"d-none d-md-table-cell"},"Active"),t("th",{class:"d-none d-md-table-cell"},"Featured"),t("th",{class:"d-none d-md-table-cell"},"SKU"),t("th",{class:"d-none d-md-table-cell"},"Barcode"),t("th",{class:"d-none d-md-table-cell"},"Sort Order"),t("th",{class:"d-none d-md-table-cell"},"Created At"),t("th",{class:"d-none d-md-table-cell"},"Actions")])],-1)),gt(g,{modelValue:l.products,"onUpdate:modelValue":e[10]||(e[10]=o=>l.products=o),onEnd:l.onSortEnd,tag:"tbody",animation:200,handle:".drag-handle"},{item:ft(({element:o})=>{var k;return[(i(),d("tr",{key:o.id,class:q(["d-block d-md-table-row w-100 mb-2 mb-md-0",{"table-danger":o.deleted_at}])},[e[44]||(e[44]=t("td",null,[t("span",{class:"drag-handle",style:{cursor:"grab"}},[t("i",{class:"fas fa-grip-vertical"})])],-1)),t("td",null,[t("div",Tt,n(o.name),1),t("div",jt,n(o.description),1)]),t("td",Kt,n(((k=o.category)==null?void 0:k.name)||"None"),1),t("td",Qt,n(o.price),1),t("td",Yt,n(o.cost_price),1),t("td",zt,n(o.stock_quantity),1),t("td",Ht,n(o.min_stock_level),1),t("td",Jt,[t("span",{class:q(["badge",o.status==="active"?"bg-success":"bg-danger"])},n(o.status==="active"?"Active":"Inactive"),3)]),t("td",Rt,[t("input",{type:"checkbox",disabled:"",checked:o.is_active},null,8,Wt)]),t("td",Gt,[t("input",{type:"checkbox",disabled:"",checked:o.is_featured},null,8,Xt)]),t("td",Zt,n(o.sku),1),t("td",$t,n(o.barcode),1),t("td",te,n(o.sort_order),1),t("td",ee,n(new Date(o.created_at).toLocaleDateString()),1),t("td",oe,[t("div",le,[t("button",{class:"btn btn-sm btn-action btn-view me-1",onClick:S=>l.viewProduct(o)},e[39]||(e[39]=[t("i",{class:"fas fa-eye"},null,-1)]),8,se),o.deleted_at?C("",!0):(i(),d("button",{key:0,class:"btn btn-sm btn-action btn-edit me-1",onClick:S=>l.editProduct(o)},e[40]||(e[40]=[t("i",{class:"fas fa-edit"},null,-1)]),8,ne)),o.deleted_at?C("",!0):(i(),d("button",{key:1,class:"btn btn-sm btn-action btn-delete me-1",onClick:S=>l.confirmDelete(o)},e[41]||(e[41]=[t("i",{class:"fas fa-trash"},null,-1)]),8,ae)),o.deleted_at?(i(),d("button",{key:2,class:"btn btn-sm btn-action btn-restore me-1",onClick:S=>l.restoreProduct(o)},e[42]||(e[42]=[t("i",{class:"fas fa-undo"},null,-1)]),8,de)):C("",!0),o.deleted_at?(i(),d("button",{key:3,class:"btn btn-sm btn-action btn-hard-delete",onClick:S=>l.confirmHardDelete(o)},e[43]||(e[43]=[t("i",{class:"fas fa-times"},null,-1)]),8,ie)):C("",!0)])])],2))]}),_:1},8,["modelValue","onEnd"])])])),l.pagination.total>0?(i(),d("div",re,[t("div",ce," Showing "+n(l.pagination.from)+" to "+n(l.pagination.to)+" of "+n(l.pagination.total)+" entries ",1),l.pagination.last_page>1?(i(),d("nav",ue,[t("ul",me,[t("li",{class:q(["page-item",{disabled:l.pagination.current_page===1}])},[t("button",{class:"page-link",onClick:e[11]||(e[11]=o=>l.goToPage(l.pagination.current_page-1)),disabled:l.pagination.current_page===1},"«",8,be)],2),(i(!0),d(z,null,H(l.paginationWindow,o=>(i(),d("li",{key:o,class:q(["page-item",{active:o===l.pagination.current_page}])},[t("button",{class:"page-link",onClick:k=>l.goToPage(o)},n(o),9,ge)],2))),128)),t("li",{class:q(["page-item",{disabled:l.pagination.current_page===l.pagination.last_page}])},[t("button",{class:"page-link",onClick:e[12]||(e[12]=o=>l.goToPage(l.pagination.current_page+1)),disabled:l.pagination.current_page===l.pagination.last_page},"»",8,fe)],2)])])):C("",!0)])):C("",!0)])]),t("div",pe,[t("div",ve,[t("div",ye,[t("div",ke,[t("h5",_e,n(l.isEditing?"Edit Product":"Add Product"),1),e[46]||(e[46]=t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal"},null,-1))]),t("div",Ce,[t("form",{onSubmit:e[26]||(e[26]=Z((...o)=>l.saveProduct&&l.saveProduct(...o),["prevent"]))},[t("div",we,[t("div",he,[t("div",Pe,[e[47]||(e[47]=t("span",{class:"input-group-text"},[t("i",{class:"fas fa-tag"})],-1)),c(t("input",{id:"productName",type:"text",class:"form-control","onUpdate:modelValue":e[13]||(e[13]=o=>l.form.name=o),required:"",placeholder:"Product Name"},null,512),[[p,l.form.name]])])]),t("div",xe,[t("div",Se,[e[50]||(e[50]=t("span",{class:"input-group-text"},[t("i",{class:"fas fa-layer-group"})],-1)),c(t("select",{id:"productCategory",class:"form-select","onUpdate:modelValue":e[14]||(e[14]=o=>l.form.category_id=o),required:""},[e[48]||(e[48]=t("option",{value:""},"Select Category",-1)),(i(!0),d(z,null,H(l.categoriesList,o=>(i(),d("option",{key:o.id,value:o.id},n(o.name),9,Ae))),128))],512),[[vt,l.form.category_id]]),t("button",{class:"btn btn-outline-success ms-2",type:"button",onClick:e[15]||(e[15]=(...o)=>l.showQuickCategoryModal&&l.showQuickCategoryModal(...o)),title:"Add Category"},e[49]||(e[49]=[t("i",{class:"fas fa-plus"},null,-1)]))])]),t("div",Me,[t("div",Ue,[e[51]||(e[51]=t("span",{class:"input-group-text"},[t("i",{class:"fas fa-dollar-sign"})],-1)),c(t("input",{id:"productPrice",type:"number",class:"form-control","onUpdate:modelValue":e[16]||(e[16]=o=>l.form.price=o),required:"",min:"0",step:"0.01",placeholder:"Price"},null,512),[[p,l.form.price]])])]),t("div",qe,[t("div",De,[e[52]||(e[52]=t("span",{class:"input-group-text"},[t("i",{class:"fas fa-coins"})],-1)),c(t("input",{id:"productCost",type:"number",class:"form-control","onUpdate:modelValue":e[17]||(e[17]=o=>l.form.cost_price=o),required:"",min:"0",step:"0.01",placeholder:"Cost Price"},null,512),[[p,l.form.cost_price]])])]),t("div",Ve,[t("div",Fe,[e[53]||(e[53]=t("span",{class:"input-group-text"},[t("i",{class:"fas fa-boxes"})],-1)),c(t("input",{id:"productStock",type:"number",class:"form-control","onUpdate:modelValue":e[18]||(e[18]=o=>l.form.stock_quantity=o),required:"",min:"0",placeholder:"Stock Quantity"},null,512),[[p,l.form.stock_quantity]])])]),t("div",Ne,[t("div",Be,[e[54]||(e[54]=t("span",{class:"input-group-text"},[t("i",{class:"fas fa-exclamation-triangle"})],-1)),c(t("input",{id:"productMinStock",type:"number",class:"form-control","onUpdate:modelValue":e[19]||(e[19]=o=>l.form.min_stock_level=o),required:"",min:"0",placeholder:"Min Stock Level"},null,512),[[p,l.form.min_stock_level]])])]),t("div",Ee,[t("div",Ie,[e[55]||(e[55]=t("span",{class:"input-group-text"},[t("i",{class:"fas fa-barcode"})],-1)),c(t("input",{id:"productSKU",type:"text",class:"form-control","onUpdate:modelValue":e[20]||(e[20]=o=>l.form.sku=o),placeholder:"SKU"},null,512),[[p,l.form.sku]])])]),t("div",Le,[t("div",Oe,[e[56]||(e[56]=t("span",{class:"input-group-text"},[t("i",{class:"fas fa-barcode"})],-1)),c(t("input",{id:"productBarcode",type:"text",class:"form-control","onUpdate:modelValue":e[21]||(e[21]=o=>l.form.barcode=o),placeholder:"Barcode"},null,512),[[p,l.form.barcode]])])]),t("div",Te,[t("div",je,[c(t("input",{class:"form-check-input",type:"checkbox",id:"productActive","onUpdate:modelValue":e[22]||(e[22]=o=>l.form.is_active=o)},null,512),[[T,l.form.is_active]]),e[57]||(e[57]=t("label",{class:"form-check-label",for:"productActive"},"Active",-1))])]),t("div",Ke,[t("div",Qe,[c(t("input",{class:"form-check-input",type:"checkbox",id:"productFeatured","onUpdate:modelValue":e[23]||(e[23]=o=>l.form.is_featured=o)},null,512),[[T,l.form.is_featured]]),e[58]||(e[58]=t("label",{class:"form-check-label",for:"productFeatured"},"Featured",-1))])]),t("div",Ye,[t("div",ze,[e[59]||(e[59]=t("span",{class:"input-group-text"},[t("i",{class:"fas fa-align-left"})],-1)),c(t("textarea",{id:"productDescription",class:"form-control","onUpdate:modelValue":e[24]||(e[24]=o=>l.form.description=o),rows:"3",placeholder:"Product Description"},null,512),[[p,l.form.description]])])]),t("div",He,[t("div",Je,[e[60]||(e[60]=t("span",{class:"input-group-text"},[t("i",{class:"fas fa-image"})],-1)),t("input",{type:"file",class:"form-control",onChange:e[25]||(e[25]=(...o)=>l.onImageChange&&l.onImageChange(...o))},null,32)]),l.form.imagePreview?(i(),d("div",Re,[t("img",{src:l.form.imagePreview,class:"img-thumbnail",style:{"max-width":"200px"}},null,8,We)])):C("",!0)])]),t("div",Ge,[e[61]||(e[61]=t("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Cancel",-1)),t("button",Xe,n(l.isEditing?"Update":"Create"),1)])],32)])])])]),t("div",Ze,[t("div",$e,[t("div",to,[e[79]||(e[79]=t("div",{class:"modal-header"},[t("h5",{class:"modal-title"},"Product Details"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal"})],-1)),t("div",eo,[t("div",oo,[t("p",null,[e[62]||(e[62]=t("strong",null,"Name:",-1)),r(" "+n((F=l.selectedProduct)==null?void 0:F.name),1)]),t("p",null,[e[63]||(e[63]=t("strong",null,"Description:",-1)),r(" "+n((A=l.selectedProduct)==null?void 0:A.description),1)]),t("p",null,[e[64]||(e[64]=t("strong",null,"Category:",-1)),r(" "+n(((N=(h=l.selectedProduct)==null?void 0:h.category)==null?void 0:N.name)||"None"),1)]),t("p",null,[e[65]||(e[65]=t("strong",null,"Price:",-1)),r(" "+n((B=l.selectedProduct)==null?void 0:B.price),1)]),t("p",null,[e[66]||(e[66]=t("strong",null,"Cost Price:",-1)),r(" "+n((M=l.selectedProduct)==null?void 0:M.cost_price),1)]),t("p",null,[e[67]||(e[67]=t("strong",null,"Stock Quantity:",-1)),r(" "+n((v=l.selectedProduct)==null?void 0:v.stock_quantity),1)]),t("p",null,[e[68]||(e[68]=t("strong",null,"Min Stock Level:",-1)),r(" "+n((P=l.selectedProduct)==null?void 0:P.min_stock_level),1)]),t("p",null,[e[69]||(e[69]=t("strong",null,"Status:",-1)),r(" "+n((E=l.selectedProduct)==null?void 0:E.status),1)]),t("p",null,[e[70]||(e[70]=t("strong",null,"Active:",-1)),r(" "+n((x=l.selectedProduct)!=null&&x.is_active?"Yes":"No"),1)]),t("p",null,[e[71]||(e[71]=t("strong",null,"Featured:",-1)),r(" "+n((I=l.selectedProduct)!=null&&I.is_featured?"Yes":"No"),1)]),t("p",null,[e[72]||(e[72]=t("strong",null,"SKU:",-1)),r(" "+n((K=l.selectedProduct)==null?void 0:K.sku),1)]),t("p",null,[e[73]||(e[73]=t("strong",null,"Barcode:",-1)),r(" "+n((U=l.selectedProduct)==null?void 0:U.barcode),1)]),(L=l.selectedProduct)!=null&&L.image?(i(),d("p",lo,[e[74]||(e[74]=t("strong",null,"Image:",-1)),e[75]||(e[75]=r()),t("img",{src:l.getImageUrl(l.selectedProduct.image),class:"img-thumbnail mt-2",style:{"max-width":"200px"}},null,8,so)])):C("",!0),t("p",null,[e[76]||(e[76]=t("strong",null,"Sort Order:",-1)),r(" "+n((Q=l.selectedProduct)==null?void 0:Q.sort_order),1)]),t("p",null,[e[77]||(e[77]=t("strong",null,"Created At:",-1)),r(" "+n(new Date((R=l.selectedProduct)==null?void 0:R.created_at).toLocaleString()),1)]),(y=l.selectedProduct)!=null&&y.deleted_at?(i(),d("p",no,[e[78]||(e[78]=t("strong",null,"Deleted At:",-1)),r(" "+n(new Date((Y=l.selectedProduct)==null?void 0:Y.deleted_at).toLocaleString()),1)])):C("",!0)])]),e[80]||(e[80]=t("div",{class:"modal-footer"},[t("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close")],-1))])])]),t("div",ao,[t("div",io,[t("div",ro,[e[84]||(e[84]=t("div",{class:"modal-header"},[t("h5",{class:"modal-title"},"Deleted Products"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal"})],-1)),t("div",co,[l.deletedProducts.length===0?(i(),d("div",uo,e[81]||(e[81]=[t("i",{class:"fas fa-box-open fa-2x mb-2"},null,-1),t("div",null,"No deleted products found.",-1)]))):(i(),d("div",mo,[t("table",bo,[e[83]||(e[83]=t("thead",null,[t("tr",null,[t("th",null,"Name"),t("th",{class:"d-none d-md-table-cell"},"Category"),t("th",{class:"d-none d-md-table-cell"},"Status"),t("th",{class:"d-none d-md-table-cell"},"Created At"),t("th",{class:"d-none d-md-table-cell"},"Actions")])],-1)),t("tbody",null,[(i(!0),d(z,null,H(l.deletedProducts,o=>{var k;return i(),d("tr",{key:o.id},[t("td",null,n(o.name),1),t("td",null,n(((k=o.category)==null?void 0:k.name)||"None"),1),t("td",null,n(o.status),1),t("td",null,n(new Date(o.deleted_at).toLocaleString()),1),t("td",null,[t("button",{class:"btn btn-sm btn-action btn-restore",onClick:S=>l.restoreProduct(o)},e[82]||(e[82]=[t("i",{class:"fas fa-undo"},null,-1),r(" Restore")]),8,go)])])}),128))])])]))]),e[85]||(e[85]=t("div",{class:"modal-footer"},[t("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close")],-1))])])]),t("div",fo,[t("div",po,[t("div",vo,[e[90]||(e[90]=t("div",{class:"modal-header"},[t("h5",{class:"modal-title"},"Add Category"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal"})],-1)),t("div",yo,[t("form",{onSubmit:e[30]||(e[30]=Z((...o)=>l.quickAddCategory&&l.quickAddCategory(...o),["prevent"]))},[t("div",ko,[e[86]||(e[86]=t("label",{class:"form-label"},"Category Name",-1)),c(t("input",{"onUpdate:modelValue":e[27]||(e[27]=o=>l.quickCategoryForm.name=o),type:"text",class:"form-control",required:""},null,512),[[p,l.quickCategoryForm.name]])]),t("div",_o,[e[87]||(e[87]=t("label",{class:"form-label"},"Description",-1)),c(t("input",{"onUpdate:modelValue":e[28]||(e[28]=o=>l.quickCategoryForm.description=o),type:"text",class:"form-control"},null,512),[[p,l.quickCategoryForm.description]])]),t("div",Co,[c(t("input",{class:"form-check-input",type:"checkbox",id:"quickCategoryActive","onUpdate:modelValue":e[29]||(e[29]=o=>l.quickCategoryForm.is_active=o)},null,512),[[T,l.quickCategoryForm.is_active]]),e[88]||(e[88]=t("label",{class:"form-check-label",for:"quickCategoryActive"},"Active",-1))]),e[89]||(e[89]=t("div",{class:"modal-footer"},[t("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Cancel"),t("button",{type:"submit",class:"btn btn-success"},"Add")],-1))],32)])])])])])}const xo=bt(Ct,[["render",wo],["__scopeId","data-v-8d37b26d"]]);export{xo as default};
//# sourceMappingURL=Products-D7JYaCnn.js.map
