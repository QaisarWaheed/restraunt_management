import{_ as f,L as p,C as b,T as k,c as n,a as t,t as i,i as g,j as c,v as u,O as y,F as $,g as q,f as w,N as _,o as d,S as m}from"./app-BLvk--SP.js";const S={class:"contact-banner-section"},x={class:"contact-banner-bg"},V={class:"contact-banner-content text-center"},C={class:"mt-2 mb-2",style:{"font-family":"'Playfair Display', serif"}},B={class:"mb-3"},U={class:"container contact-card-container"},E={class:"contact-card mx-auto"},M={class:"row g-0 align-items-stretch"},N={class:"col-md-12 p-4 d-flex flex-column justify-content-center"},P={class:"reservation-section"},T={class:"container"},D={class:"reservation-card mx-auto"},F={class:"text-center reservation-title mb-4"},L={class:"row g-3 mb-3"},j={class:"col-md-4"},O={class:"input-group"},A=["placeholder","disabled","title"],I={class:"col-md-4"},Q={class:"input-group"},R=["placeholder","disabled","title"],z={class:"col-md-4"},G={class:"input-group"},H=["placeholder","disabled","title"],J={class:"col-md-6"},K={class:"input-group"},W=["disabled","title"],X={value:"",disabled:""},Y=["value"],Z={class:"col-md-6"},tt={class:"input-group"},et=["placeholder","disabled","title"],st={class:"d-grid mb-2"},ot=["disabled"],at={key:0},lt={key:1},it={__name:"StockCheck",setup(nt){const a=p({full_name:"",phone_number:"",email:"",product_id:"",qty:1}),l=p(!1),r=p([]),v=async()=>{try{const s=await _.get("/tenant/products",{params:{status:"active",per_page:1e3}});s.data.success?r.value=s.data.data.data:r.value=[]}catch{r.value=[]}},h=async()=>{var s,e;l.value=!0;try{const o=await _.post("/tenant/stock-check",{full_name:a.value.full_name,phone_number:a.value.phone_number,email:a.value.email,product_id:a.value.product_id,qty:a.value.qty});if(o.data.success)await m.fire({icon:"success",title:"Stock Check Submitted!",text:o.data.message,confirmButtonColor:"#c62828"}),a.value={full_name:"",phone_number:"",email:"",product_id:"",qty:1};else throw new Error(o.data.message||"Submission failed.")}catch(o){m.fire({icon:"error",title:"Oops...",text:((e=(s=o.response)==null?void 0:s.data)==null?void 0:e.message)||"Something went wrong! Please try again.",confirmButtonColor:"#c62828"})}finally{l.value=!1}};return b(()=>{v(),document.querySelectorAll('[data-bs-toggle="tooltip"]').forEach(s=>{new k(s)})}),(s,e)=>(d(),n("div",S,[t("div",x,[e[5]||(e[5]=t("div",{class:"contact-banner-overlay"},null,-1)),t("div",V,[t("h1",C,i(s.$t("stock_check.title")),1),t("div",B,i(s.$t("stock_check.description")),1)])]),t("div",U,[t("div",E,[t("div",M,[t("div",N,[t("section",P,[t("div",T,[t("div",D,[t("div",F,i(s.$t("stock_check.reservation_title")),1),t("form",{onSubmit:g(h,["prevent"]),autocomplete:"off"},[t("div",L,[t("div",j,[t("div",O,[c(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=o=>a.value.full_name=o),required:"",placeholder:s.$t("stock_check.full_name"),id:"reservationFullName",disabled:l.value,"data-bs-toggle":"tooltip",title:s.$t("stock_check.full_name_tip")},null,8,A),[[u,a.value.full_name]]),e[6]||(e[6]=t("span",{class:"input-group-text"},[t("i",{class:"fas fa-user"})],-1))])]),t("div",I,[t("div",Q,[c(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=o=>a.value.phone_number=o),required:"",placeholder:s.$t("stock_check.phone_number"),id:"reservationPhone",disabled:l.value,"data-bs-toggle":"tooltip",title:s.$t("stock_check.phone_number_tip")},null,8,R),[[u,a.value.phone_number]]),e[7]||(e[7]=t("span",{class:"input-group-text"},[t("i",{class:"fas fa-phone"})],-1))])]),t("div",z,[t("div",G,[c(t("input",{type:"email",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=o=>a.value.email=o),required:"",placeholder:s.$t("stock_check.email"),id:"reservationEmail",disabled:l.value,"data-bs-toggle":"tooltip",title:s.$t("stock_check.email_tip")},null,8,H),[[u,a.value.email]]),e[8]||(e[8]=t("span",{class:"input-group-text"},[t("i",{class:"fas fa-envelope"})],-1))])]),t("div",J,[t("div",K,[c(t("select",{class:"form-select","onUpdate:modelValue":e[3]||(e[3]=o=>a.value.product_id=o),required:"",disabled:l.value,"data-bs-toggle":"tooltip",title:s.$t("stock_check.select_product_tip")},[t("option",X,i(s.$t("stock_check.select_product")),1),(d(!0),n($,null,q(r.value,o=>(d(),n("option",{key:o.id,value:o.id},i(o.name),9,Y))),128))],8,W),[[y,a.value.product_id]]),e[9]||(e[9]=t("span",{class:"input-group-text"},[t("i",{class:"fas fa-box"})],-1))])]),t("div",Z,[t("div",tt,[c(t("input",{type:"number",min:"1",class:"form-control","onUpdate:modelValue":e[4]||(e[4]=o=>a.value.qty=o),required:"",placeholder:s.$t("stock_check.quantity"),id:"reservationQty",disabled:l.value,"data-bs-toggle":"tooltip",title:s.$t("stock_check.quantity_tip")},null,8,et),[[u,a.value.qty]]),e[10]||(e[10]=t("span",{class:"input-group-text"},[t("i",{class:"fas fa-sort-numeric-up"})],-1))])])]),t("div",st,[t("button",{type:"submit",class:"btn btn-danger",disabled:l.value},[l.value?(d(),n("span",at,[e[11]||(e[11]=t("span",{class:"spinner-border spinner-border-sm me-2"},null,-1)),w(i(s.$t("stock_check.processing")),1)])):(d(),n("span",lt,i(s.$t("stock_check.check_stock")),1))],8,ot)])],32)])])])])])])])]))}},dt=f(it,[["__scopeId","data-v-3289b50b"]]);export{dt as default};
//# sourceMappingURL=StockCheck-DKz3VULu.js.map
